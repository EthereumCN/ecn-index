{"componentChunkName":"component---src-template-article-js","path":"/Ecosystem/eth-weekly-2021-2-8/","result":{"data":{"strapiArticles":{"title":"以太七日谈 • 2021/2/8","summary":"GAS LIMIT热议；质押池集体罚没事件","publishDate":"2021-02-08","author":"ECN","authorImg":{"childImageSharp":{"fixed":{"src":"/static/18e33ca02b0130c3f952c7a725931e7a/497c6/ac7e303d9bcf9058c207ba55f49192bb.png"}}},"content":"![cover](https://i.ibb.co/YZRgzjN/COVER.png)\n\n# ETH 1.0\n\n**应该提高gas limit 吗？**\n\n近期高昂的交易费使得用户在以太坊网络上“寸步难行”。1inchExchange的联合创始人Anton Bukov@k06a发推，截取Dune Analytics上“以太坊每天使用的gas与gas limit对比”的图 (见下)并表示似乎时时候将gas limit从12.5M提高到15M了，从而提高20%的交易吞吐量。此话题在社区引起热议。其中Go Ethereum的开发者@MariusVanDerWijden表示现在还不是提高gas limit的时候，以下为他推特的翻译整理：\n\n\n\n\n![dune](https://i.ibb.co/zmyKmPb/dune.jpg)\n\n\n \n\n<center>Cr:Dune Analytics</center>\n\n我认为现在提高以太坊的gas limit是危险的。关于这个决定，需要考虑以下几个因素：\n\n**叔块率**：在评估提高gas limit是否安全时，叔块率是最常被讨论的指标。因为大区块在网络中同步速度比较慢，因此会增加变成叔块的可能性。但是，叔块率其实主要与区块容量相关，而不是实际执行，因为区块是在PoW共识链签出时被广播 (至少可以通过geth) 而不是在被正确执行时。因此，有大量存储操作的小型交易与有少量操作的大型交易一样，是不会提高叔块率的。\n\n**状态大小**：我现在看到的最大限制因素是快速增长的状态。创建用户、合约或储存数据的交易都大大地增大区块容量。因为我们的节点不能足够快地修剪状态，大量不必要的状态会被储存在磁盘上。这也是为什么一个新同步的geth节点消耗大约350GB，而一个运行了一段时间的节点消耗大于500GB。提高gas limit会直接导致状态膨胀。\n\n**同步时间**：现在一个全节点大概需要好几天才能同步完数据。原因有几个。提高gas limit会大大增加一个新节点的同步时间。新的同步协议 (例如：snap sync) 可以缩短这个时间。\n\n**执行次数**：无论何时只要有新的区块生成，所有的执行都必须被执行，且状态都需要更新。这跟同步数据有点不一样，因为我们可以采用一些捷径，而在处理区块时是无法同步的。提高gas limit会直接增加一个区块的执行时间。如果一个区块的执行时间长于13秒 (当前的区块时间) ，整个网络都会崩溃，因为每个区块都会出现分叉。现在在以太坊上有几个问题可能会被利用来创造这种重型区块。我们希望可以通过EIP-2718来解决它们。\n\n**档案节点**：尽管全节点足以满足大多数的用例，档案节点 (即存储过去所有过渡状态的节点) 还是有依赖它们的用例和各种服务，比如区块浏览器或审计工具。提高gas limit会给这些节点增加非常大的压力。尽管我们普遍不关注这些类型的节点，我们还是需要支持它们。\n\n解决方案：尽管我认为现在不是提高gas limit的适当时候，但我也看到未来可能是由解决方案。\n\n**Snapshot和Snap Sync**: 在我们下一个更新版本，Go Ethereum会有一个叫snap sync的功能，它可以大大减少同步一个节点所需的时间和网络容量。另外，这个功能也会提高读取当前状态的速度。\n\n**Regenesis**: Regenesis是关于修剪以太坊的历史的一份提议，基本上等于用当前状态创建一个新的创世区块。这会使得我们可以删去很多验证旧区块的逻辑，并缩短同步时间，比如修剪了上海攻击的部分。\n\n**Flat DB**: Turbo-geth给它们的状态引入了一种新的数据结构，它会减少执行区块所需的随机磁盘读写量。Go-ehtereum目前无法复制这个格式。当我们抛弃旧的eth-protocol版本时，我们就可以采用相似的格式，这样也可以提高gas limit了。\n\n**Pruner**: Geth现在无法使用内存修剪来减少写进磁盘的非必要状态，这回导致每天大约1GB的状态膨胀。\n\n来源：https://twitter.com/vdWijden/status/1358478246879363077\n\n \n\n以太坊Geth核心开发者@peter_szilagyi也表示反对提高gas limit，因其带来的负面影响可能会给他们团队带来巨大压力 (其团队主要负责维持Geth、EVM、状态管理以及交易混洗等)。Peter表示其团队一直努力安全地提高gas limit，并推进Snap Shot和Snap Sync。他目前有一个新的状态储存方案，可能行得通，也许不行，他表示先在这方面进行研究开发，而不是直接提高gas limit。\n\n来源：https://twitter.com/peter_szilagyi/status/1358393781381459970\n\n \n\n同时有人提问EIP-1559会提高区块的gas limit吗？\n\nEIP-1559的主要推动者Tim Beiko则解释：EIP-1559不会明显提高区块容量。依据其设计，会有大概1%的区块达到200%，因此最佳情况下是平均增加0.5%的容量，相当于把现在的区块容量提高大约100k。因此，EIP-1559并不会改变block limit，但我们容许区块达到200%满。无论前一个分叉的区块gas limit是多少都不会影响下一个分叉，但如果区块超过100%满，我们会提高基本费用 (如果低于100%满，基本费用会降低)。以及在EIP-1559上线之后，矿工提高或减低block limit的权利维持不变。\n\n来源：https://twitter.com/TimBeiko/status/1356761456688070657?s=20\n\n \n\n \n\n \n<br/>\n\n# Eth 2.0\n\n**2.0主网出现批量罚没事件**\n\n2月3日，以太坊 2.0 信标链70多个节点集体遭到slash惩罚，具体罚没细节可访问beaconscan浏览器查看：https://beaconscan.com/slots-slashed\n\n \n\n随后Staking服务商Staked.us对该事件做出回应：2月2日有75个运行在 Staked 的节点遭到 slash 惩罚，这主要是由于技术性问题，用户将获得全额赔偿。Staked解释称，在过去六周中对性能进行了改善，提高证明率 (attestation rate) ，且使用”canary“对其进行了测试。但是后来因为Staked.us禁用了Prysm客户端的slash保护数据库(因其此前引发了证明遗失问题)，导致一部分验证者对相同的区块进行了双重签名，因此造成了大规模罚没事件。Staked表示将补偿用户的损失。\n\n \n\n2月5日，beaconscan的数据显示信标链再次出现批量罚没，共17个节点被惩罚。而根据存款合约的数据显示，此次罚没事件仍与服务商Staked.us有关。\n\n \n<br/>\n\n# Layer2\n\n**Layer2互操作性解决方案Connext被引入Decentral Games**\n\n2月3日，Layer2 互操作解决方案Connxet宣布其第一个合作项目“Decentral Games”上线，可以在以太坊和Matic之间快速转移DAI和MANA。Decentral Games 利用二层解决方案Matci来降低gas费，然而，DG的用户每次使用虚拟casino时仍需要通过Matic PoS 桥接将资金在以太坊和Matic之间转移。而Connext可以帮助缩短交易时间。\n\n\n\n\n![connext](https://i.ibb.co/xCHDcHB/layer2.png)\n\n\n \n\n<center>cr: connext</center>\n\n \n\n**路印与隐私社交产品Mask Network合作**\n\n隐私社交产品Mask Network宣布与二层解决方案达成战略合作关系。Mask在其最新的博客表示，将与Layer2扩容方案、zkRollup以及其他去中心化技术深度合作。而在应用层方面，Mask Network和路印将开发二层“红包”的更多更能，以解决用户的高交易费问题。\n\n\n\n\n\n ![mask](https://i.ibb.co/Cz3HB9y/image.png)\n\n<center>cr: mask</center>\n\n <br/>\n\n# DeFi\n\n**Yearn v1 yDAI 机枪池被攻击**\n\n2月5日Yearn v1 yDAI机枪池遭受攻击，Yearn 核心开发者Banteg发推表示，攻击者获得280美元，机枪池损失1100万美元。随后审计公司慢雾对其进行了调查，表示该次攻击事件为闪电贷攻击行为。\n\n \n\n2月8日DeFi流动性协议Curve发推表示，因发现新的Yearn v2池存在漏洞，为保护流动性提供者的资产，该池已被关掉。目前所有资产都是安全的，存款将直接返回至LP的钱包，不需要额外的提取操作。\n\n\n\n![curve](https://i.ibb.co/BHhGy8M/Curve.png)\n\n \n\n <br/>\n\n# 生态\n\n以太坊浏览器Etherscan发推表示，以太坊上的交易量达十亿笔。\n\n\n\n\n![etherscan](https://i.ibb.co/6sBfyr0/Etherscan.png)\n \n\n<center>cr：etherscan</center>\n\n \n\n**灰度发布以太坊价值评估报告**\n\nGrayscale灰度发布了报告，从三个角度对以太坊进行价值评估：ETH作为货币、作为消费商品、作为计息资产。翻译版本指路：《以太坊价值评估》。\n\n \n<br/>\n \n\n# 本期最佳meme\n\n过去的gas费让人怀念~\n\n\n![meme](https://i.ibb.co/WWMTX5X/meme.png)\n\n\n\n\n \n\n<center>cr: @EthereumMemes</center>\n\n<br/>\n<br/>\n\nECN的翻译工作旨在为中国以太坊社区传递优质资讯和学习资源，文章版权归原作者所有，转载须注明原文出处以及ethereum.cn，若需长期转载，请联系eth@ecn.co进行授权。\n\n \n\n ","cover":{"childImageSharp":{"resize":{"src":"/static/66a1b01256795a8db63db75f4e581724/497c6/a8ac179452d4a65b2def3f67474e5186.png"}}}},"site":{"siteMetadata":{"title":"Ethereum Community Network","description":"以太坊——全球的、开源的去中心化应用平台。DeFi？NFT？游戏？虚拟世界？每一个人都可以成为以太坊的开发者和用户！","author":"@ECN以太坊社区网络","keywords":"以太坊,以太坊中国,Ethereum","siteLanguage":"zh-CN","siteLocale":"zh-cn","siteUrl":"http://ethereum.cn","twitterUsername":"@EthereumCN"}}},"pageContext":{"id":"Articles_212"}},"staticQueryHashes":["1238767529","2940180826"]}