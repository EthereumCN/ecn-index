{"componentChunkName":"component---src-template-article-js","path":"/Ecosystem/eth-weekly-2021-3-8/","result":{"data":{"strapiArticles":{"title":"以太七日谈 • 2020/3/8","summary":"EIP-2315之争，客户端Geth V1.10.0","publishDate":"2021-03-08","author":"ECN","authorImg":{"childImageSharp":{"fixed":{"src":"/static/18e33ca02b0130c3f952c7a725931e7a/497c6/ac7e303d9bcf9058c207ba55f49192bb.png"}}},"content":"![cover](https://i.ibb.co/qg7PSHD/cover.png)\n\n# Eth1&Eth2\n\n**Eth2 质押队列的等候验证者首次为零**\n\n根据 Eth2 浏览器 beaconcha.in 显示，截至本文发布，Eth2 存款合约已收到 3,436,258 ETH；年化率为 8.4%；网络参与率为 98.88%；活跃验证者为 106,741 名。\n\n值得注意的是，目前验证者队列为 0，现在进行质押可以立即激活验证者参与网络工作并获取收益。据 beaconscan 的数据显示，目前总收益超过 1 ETH 的验证者总计 17300 余个。\n\n<br/>\n\n**以太坊客户端 Geth v1.10.0 发布**\n\n以太坊开发者 Péter Szilágyi 宣布以太坊客户端 Geth v1.10.0 (Pangaea Expanse) 的发布，github  链接：[https://github.com/ethereum/go-ethereum/releases/tag/v1.10.0](https://github.com/ethereum/go-ethereum/releases/tag/v1.10.0)\n\nPéter 表示该版本还未包含柏林硬分叉，因为 Solidity 团队对此前包含在柏林硬分叉的 EIP-2315 比较担忧。由于 v1.10.0 是一个重要的更新版本，我们不希望它的发布太临近硬分叉。我们很快就会推出 v1.10.1，届时会给出 EIP 的最终列表以及加上区块高度。\n\n来源：[https://blog.ethereum.org/2021/03/03/geth-v1-10-0/](https://blog.ethereum.org/2021/03/03/geth-v1-10-0/)\n\n<br/>\n\n**弱无状态性或状态逾时即将推出**\n\nVitalik Buterin 在 r/ethereum 中发布文章表示弱无状态性 (Weak statelessness) 以及/或状态逾时 (state expiry) 即将推出。对于基础层来说，下一个最大的挑战就是解决状态大小逐渐扩大的问题。这会导致以太坊节点同步越来越困难 (对于想要参与质押的验证者来说不友好)，并且随着状态扩大，尤其是当 gas limit 进一步提高时，网络中心化的风险会增加。\n\n而短期内解决该问题的两项技术为：弱无状态性和状态逾时。\n\n- 状态逾时：从状态中移除最近没有被访问过的状态 (假设是去年访问过的)，并且需要见证者恢复逾时的状态。这将把每个人需要存储的状态减少到 20- 50 GB。\n- 弱无状态性：只需区块提议者存储状态，并允许所有其他节点无状态地验证区块。\n\nVitalik 表示两种解决方案的开发都稳定进行中，是时候在以太坊网络中实施了。\n\n来源：[https://www.reddit.com/r/ethereum/comments/lw7ug3/weak_statelessness_andor_state_expiry_coming_soon/](https://www.reddit.com/r/ethereum/comments/lw7ug3/weak_statelessness_andor_state_expiry_coming_soon/)\n\n<br/>\n\n**Berlin 升级：EIP-2315 之争**\n\n编者注：计划中 EIP-2315 (增加对 EVM 子程序的支持) 被列为柏林硬分叉的最后一项 EIP。目前来说，想要模拟此功能的合约需要同时处理常规堆栈数据和返回地址。EIP-2315 增加了一个新堆栈，只用于追踪返回的地址。在此次 ACD 前，此份EIP 处于 Draft （起草) 而不是 Review (审阅) 状态，但各客户端已经准备就绪，而柏林硬分叉在 Ropsten 测试网的时间定于3月10日。\n\n时间线：\n\n3.2  Solidity 开发者 [@ethchris](https://twitter.com/ethchris) 发推表示“当我们允许跳进、跳出子程序的时候，EIP-2315 就没用了。我们应该增加操作码 BEGINDATA (EIP 2327)，它还对optimism很有用……EIP-2315 无法实现它的目标，且会增加EVM的复杂性，对EVM产生深远影响，以后难以修改。”\n\n![1](https://i.ibb.co/C9k5pv4/chris-1.png)\n\n![2](https://i.ibb.co/0F3CxBj/Chris-2.png)\n\n这条推特也引起开发者对现行EIP被纳入升级流程所存在的问题的讨论，例如@peter_szilagyi 提到如果 EIP 得不到积极推动就会被遗忘等。\n\n[https://twitter.com/ethchris/status/1366436964153651204?s=20](https://twitter.com/ethchris/status/1366436964153651204?s=20)\n\n3.3  日开发者 @lightclients 发起《从柏林升级移除 EIP-2315的提议#263》\n\n在提议中，@lightclients 对 EIP-2315 的历史进行了梳理，以下为概述：\n\nEIP-2315 于2019年下半年提出，是一个旨在完善EVM调用协定的向后兼容机制。2020年的4月，由evmone团队的多名成员完成了一份全面的分析报告，报告显示，“fallthrough subroutine\"问题可以通过对2315修改得到解决，如果直接调用 `beginsub` 而不是 `jumpsub` 的结果，它会复原。除此外还有几项反馈是未被解决的。\n\n提议把被纳入硬分叉计划的 EIP 移除是从未发生之事，但考虑到如果此 EIP 对 Solidity 编译器用处不大，那么主网上的很多合约都不太可能会用这份 EIP。因此，我提议把这份 EIP 从柏林升级移除，直到问题被解决了再纳入下一次的硬分叉。\n\nEIP-2315 的起草者与推动者 [Greg Colvin](mailto:greg@colvin.org) 对此提议表达了不满，表示 Vyper 团队一直期待这份 EIP 的实施，他本人也倾注了大量心血。\n\n多位核心开发人员参与了讨论，从时间线追索、技术分析，到决策原则等。\n\n详情：[https://github.com/ethereum/pm/issues/263](https://github.com/ethereum/pm/issues/263)\n\n3.5  AllCoreDevs Meeting 针对 EIP-2315 的讨论：（以下整理基于 Tim Beiko 的会议笔记）\n\n关于客户端移除 EIP-2315 内容的版本，nethermind、OpenEthereum、Besu以及Geth客户端均表示没有问题，接受会议最后的决定。至此，基于会议成员认同EIP-2315 存在未被充分测试的内容，且可能会对EVM产生长久的负面影响，会议通过把EIP-2315 从柏林升级移除的决定。\n\n对此决议，@peter_szilagyi 表达了个人意见，他认为在这个时刻 (临近硬分叉) 考虑移除 EIP 是不合适的，因为很多人已经基于此付出了许多工作。会议上多人就此事进行了对 EIP 流程的反思讨论，其中 Vitalik 提到：“对于这些变更，我们需要更早地从社区搜集反馈。” \n\n即将接任 ACD 主持工作的 Tim Beiko 表示关于这方面的改进，已经有了计划，很快会公布。\n\n<br/>\n\n**EIP-1559 纳入伦敦硬分叉**\n\n在ACD#107关于把 EIP-1559 纳入伦敦硬分叉的讨论中，@peter_szilagyi 表示希望在伦敦实现 EIP-1559 时可以与 移除 gas 退还的 EIP 一并实施，因为退还会导致区块 gas limit 乘2，与 1559 重复，这会导致 gas limit 最大时可增至 4 倍。Vitalik 对此表示同意，并认为 gas limit 的提升应该缓慢一点，因为现在 gas 费对用户来说已经很高了。\n\n会议同意把 EIP-1559 与推迟难度炸弹纳入伦敦硬分叉。\n\n<br/>\n\n彭博社 Bloomberg 在 3 月 7 日发布的一篇文章中，详细报道了以太坊的 EIP-1559 提案。\n\n新闻链接：[https://www.bloomberg.com/news/articles/2021-03-07/crypto-coin-outperforming-bitcoin-is-about-to-see-supply-reduced](https://www.bloomberg.com/news/articles/2021-03-07/crypto-coin-outperforming-bitcoin-is-about-to-see-supply-reduced)\n\n<br/>\n\n# Layer2\n\n**ESP 推出 Rollup 社区赞助计划**\n\n以太坊基金会生态系统支持计划 ESP 推出 Rollup 社区赞助计划，所有对构建以太坊 rollup 社区感兴趣的社区成员都可以提交提案 (截至 UTC 时间 2021 年 4 月 16 号)。\n\nESP 发布的公告中表示：由于 gas 费暴涨，而短期内对 EVM 进行扩容的最具有前景的解决方案是 Optimistic Rollups，因此本轮 Rollup 社区赞助计划中的期望清单重点为 EVM-Optimistic rollups (当然，我们接受任何类型 rollup 的赞助申请)。\n\n任何人都可以提交申请 (以个人或团队的形式)。无论你的想法或项目处于哪个开发阶段，都可以提交申请：概念阶段、概念证明阶段、工作推进阶段或已经有具体的项目成型。\n\n期望清单：[https://esp.ethereum.foundation/en/rollup-grants/#wishlist](https://esp.ethereum.foundation/en/rollup-grants/#wishlist)\n\n申请链接：[https://esp.ethereum.foundation/en/rollup-grants/#submit-proposal](https://esp.ethereum.foundation/en/rollup-grants/#submit-proposal)\n\n<br/>\n\n**MetaMask 推出自定义网络 API 以连接用户至 Layer2 网络**\n\n去中心化钱包 MetaMask 发布最新版本 v9.1.0，该更新已面向所有火狐和 Chrome 用户推出。此版本最重要的更新是发布了新的自定义网络 API：旨在在 MetaMask 中实现无摩擦的跨链用户体验。这允许开发者们向他们的用户推荐不同类型的链，包括 Layer2 网络如 Polygon、Arbitrum、Optimism等；侧链如 SKALE 和 xDAI；以及任何兼容 EVM 的链。\n\n这些网络将被添加到用户的网络清单中 (只需简单地按下确认键)，用户就可以在网络清单中切换网络。当用户进入一个网站，被要求在 MetaMask 中添加一个自定义网络时，MetaMask 会显示如下信息：\n\n![metamask](https://i.ibb.co/cJCLg10/metamask.png)\n\nMetaMask 会对该信息做一些基础的验证，如果发现一些不寻常的信息将会警告用户。然而 MetaMask 不负责验证自定义网络，尽管其验证通过了，该网络也可能是恶意网络，因此用户需谨慎确认。\n\n<br/>\n\n# 生态\n\n**以太坊生态经济市值超 2500 亿美元**\n\n根据 Coinbase 的报告 The rise of the Ethereum economy 《以太坊经济的崛起》中，统计了在以太坊网络上衍生的各种加密经济类型如 DeFi、稳定币、wrapped tokens 以及 ETH 的总市值。如下图，以太坊生态经济市值已经超过 2500 亿 美元 (没有包括 NFT)。\n\n![market cap](https://i.ibb.co/w4h61wd/image.png)\n\ncr：Coinbase\n\n来源：[https://www.coinbase.com/learn/market-updates/deep-dive-ethereum-economy](https://www.coinbase.com/learn/market-updates/deep-dive-ethereum-economy)\n\n<br/>\n<br/>\nECN的翻译工作旨在为中国以太坊社区传递优质资讯和学习资源，文章版权归原作者所有，转载须注明原文出处以及ethereum.cn，若需长期转载，请联系eth@ecn.co进行授权。","cover":{"childImageSharp":{"resize":{"src":"/static/66a1b01256795a8db63db75f4e581724/497c6/a8ac179452d4a65b2def3f67474e5186.png"}}}},"site":{"siteMetadata":{"title":"Ethereum Community Network","description":"以太坊——全球的、开源的去中心化应用平台。DeFi？NFT？游戏？虚拟世界？每一个人都可以成为以太坊的开发者和用户！","author":"@ECN以太坊社区网络","keywords":"以太坊,以太坊中国,Ethereum","siteLanguage":"zh-CN","siteLocale":"zh-cn","siteUrl":"http://ethereum.cn","twitterUsername":"@EthereumCN"}}},"pageContext":{"id":"Articles_221"}},"staticQueryHashes":["1238767529","2940180826"]}