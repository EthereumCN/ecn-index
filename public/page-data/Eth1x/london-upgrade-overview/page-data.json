{"componentChunkName":"component---src-template-article-js","path":"/Eth1x/london-upgrade-overview","result":{"data":{"strapiArticles":{"title":"伦敦升级概览","summary":"纳入伦敦升级的EIP简介","publishDate":"2021-06-10","author":"Tim Beiko ","authorImg":{"childImageSharp":{"fixed":{"src":"/static/e7355d96c1886baceafee7ec2aa095af/07ab6/6ec484f449cc13afd6542fab8670c2c3.jpg"}}},"content":"来源 | [Ethereum Cat Herder](https://medium.com/ethereum-cat-herders/london-upgrade-overview-8eccb0041b41)\n\n<br/>\n\n在过去数月里，以太坊核心开发者一直在进行伦敦网络升级的工作。它是继[柏林升级](https://medium.com/ethereum-cat-herders/the-berlin-upgrade-overview-2f7ad710eb80)（四月在主网实现分叉）后的一次升级。尽管各个网络的升级区块高度目前还未定，但纳入伦敦升级的 EIP 已经确定了。根据[升级规范](https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md)，EIP 如下：\n\n- [EIP-1559: Eth1.0 费用市场变更](https://eips.ethereum.org/EIPS/eip-1559)\n- [EIP-3198: BASEFEE 操作码](https://eips.ethereum.org/EIPS/eip-3198)\n- [EIP-3529: 减少gas返还](https://eips.ethereum.org/EIPS/eip-3529)\n- [EIP-3541: 拒绝以 0xEF 字节开头的新地址](https://eips.ethereum.org/EIPS/eip-3541)\n- [EIP-3554: 难度炸弹延迟至 2021 年 12 月1 日Difficulty Bomb Delay to December 1st 2021](https://eips.ethereum.org/EIPS/eip-3554)\n\n现在看看每个 EIP 的详细内容吧！\n\n<br/>\n\n# EIP-1559:  Eth1.0 费用市场变更\n\nEIP-1559 是以太坊史上最令期待的变更之一，也是伦敦升级里带来最大变更的EIP。这份 EIP 将在网络区块里引入“基本费用 (`basefee`)\"，它会追踪 gas 价格，这些价格来自网络将接受的、基于对区块空间需求的交易。这意味着钱包和用户将可以更容易预测他们交易的价格。另外，EIP-1559 新增了一种交易类型，用户可以指定他们愿意支付的最高限额，当他们把这个最高限额费用发送给矿工时，会获得最高限额费用减去基本费用与矿工小费之和的差值退款。最后，这份 EIP 还将导致部分交易费被烧毁，这一点被社区的大部分人认为是以太坊网络经济上的一个重要改善举措。\n\n一篇简单的文章难以涵盖EIP-1559 的机制、裨益与影响。[这份清单](https://hackmd.io/@timbeiko/1559-resources)汇总了这份 EIP 各方面内容。还有关于 EIP-1559 的一期 PEEPanEIP， 这是[完整视频](https://www.youtube.com/watch?v=ZbSKo_x9RvU&feature=youtu.be)。\n\n<br/>\n\n# EIP-3198: BASEFEE 操作码\n\n这份 EIP 是与 EIP-1559 搭配的。它只是简单添加了一个`BASEFEE`操作码，它返回的是执行交易所在的区块的基本费用。这将使得智能合约可以在链上访问这个值，这有助于提交欺诈证明和创建去信任的 gas 价格衍生品。通过这期由[Ratan Rai Sur](https://youtu.be/QQ3NHtEaCLk) 主讲的 PEEPanEIP，读者可以对这份 EIP 有一个全面的认识。\n\n<br/>\n\n# EIP-3529: 减少 gas 返还\n\n在伦敦引入的另一个重大变更是取消了操作码`SELFDESTRUCT` 的 gas 返还和减少了操作码 `SSTORE` 的 gas 返还。虽然设立返还的初衷是希望激励开发者在可能的情况下清除状态，然而现实是，这导致了Gas Token的出现，反而增加了状态大小。利用这些返还的 gas，Gas Token 可以在 gas 价格很低的时候填满状态，然后在 gas 价格上升的时候获得执行这些交易的返还。\n\n除此外，gas 返还还会导致区块执行时间的变化。在伦敦升级之前，多达 50% 的返还 gas 可以在同一个区块里进一步执行计算。也就是说，在实际上，最大的区块容量可达 1.5 倍的 gas limit。EIP-2539 把\"执行 gas 返还\"从 50% 下调到最多 20%。这一变更将有助于抵消由 EIP-1559 引入的额外区块大小变化，因为 EIP-1559 允许区块使用的 gas 是现在 gas limit 的两倍。\n\n<br/>\n\n# EIP-3541:  拒绝以 0xEF 字节开头的新地址\n\nEIP-3541 是一个简单的变更，为以后更广泛的 EVM 改善奠定基础，想看 [EIP-3540](https://eips.ethereum.org/EIPS/eip-3540)。这份 EIP 将使得以 0xEF 比特开头的新合约无法部署。现有的合约将不受影响。主网进行伦敦升级后，以 0xEF 开头的最短字节序列与现有合约的开头序列并不匹配，它们可以保留作为识别与 EIP-3540 语义相符的合同的方式。请注意：EIP-3540 将要求一次额外的网络升级来部署。值得注意的是，如果 EIP-3540 从未被部署，EIP-3541保留下来的开头字节也在其他方案里使用。\n\n<br/>\n\n# EIP-3554: 难度炸弹延迟至2021年12月 1 日\n\nEIP-3554 延迟难度炸弹，也以冰河时代为人所知。难度炸弹或冰河时代是以太坊引入的一种机制，在网络过渡到权益证明时”冻结“挖矿。由于权益证明的过渡还未准备好，我们需要推迟炸弹的”爆炸“时间。这在过去已经进行过三次：在大都会([EIP-649](https://eips.ethereum.org/EIPS/eip-649))、君士坦丁堡 ([EIP-1234](https://eips.ethereum.org/EIPS/eip-1234)) 和穆尔冰川 ([EIP-2384](https://eips.ethereum.org/EIPS/eip-2384))。\n\n尽管之前的延迟时间都相当长，但这次核心开发者选择了较短时间的延迟，把难度炸弹推迟到2021年12月。到时，网络不是要进行到权益证明的过渡就是另一次网络升级。\n\n这就是纳入伦敦升级的整个变更列表了。测试网的升级区块高度和相关的客户端发布版本很快会在[以太坊基金会博客](https://blog.ethereum.org/)上发布。\n\n<br/>\n<br/>\nECN的翻译工作旨在为中国以太坊社区传递优质资讯和学习资源，文章版权归原作者所有，转载须注明原文出处以及ethereum.cn，若需长期转载，请联系eth@ecn.co进行授权。","cover":{"childImageSharp":{"resize":{"src":"/static/d1ba2338235a3f36dafed54dd4ca5b7b/2244e/d1fa0da6c6be9edc12a67d73ddca22f2.jpg"}}}},"site":{"siteMetadata":{"title":"Ethereum Community Network","description":"以太坊——全球的、开源的去中心化应用平台。DeFi？NFT？游戏？虚拟世界？每一个人都可以成为以太坊的开发者和用户！","author":"@ECN以太坊社区网络","keywords":"以太坊,以太坊中国,Ethereum","siteLanguage":"zh-CN","siteLocale":"zh-cn","siteUrl":"http://ethereum.cn","twitterUsername":"@EthereumCN"}}},"pageContext":{"id":"Articles_280"}},"staticQueryHashes":["1238767529","2940180826"]}