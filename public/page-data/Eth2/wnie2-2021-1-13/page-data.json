{"componentChunkName":"component---src-template-article-js","path":"/Eth2/wnie2-2021-1-13","result":{"data":{"strapiArticles":{"title":"Eth2进展更新（截至2021/2/13）","summary":"以太坊核心开发者 Ben Edginton 回顾 Eth2 路线图变更","publishDate":"2021-02-18","author":"Ben Edgington","authorImg":{"childImageSharp":{"fixed":{"src":"/static/64988ed2b203b1fa0319cf09a1f7b233/eed38/21639b4d3c2f361c738a2f40035bcddc.png"}}},"content":"来源 | [What's New in Eth2](https://hackmd.io/@benjaminion/eth2_news/https%3A%2F%2Fhackmd.io%2F%40benjaminion%2Fwnie2_210213)\n\n<br/>\n\n# 社论\n\n总的来说，我认为人们没有意识到以太坊路线图在过去四个月中发生了多大的变化。\n\n尤其是很少有人注意到按照以太坊2.0当前的计划，*其自身没有提供任何有用的扩容性。*\n\n在之前的计划中，向以太坊2.0过渡是解决以太坊迫切扩容性问题的全部希望。按照原本的路线，Eth2 计划通过阶段1的分片数据/区块以及阶段2的分片执行和分片状态 (甚至是完全无状态化) 来提供扩容性。通过在基础层同时实现这三点，以太坊协议层才能真正意义上实现扩容性。\n\n当前的 Eth2 计划仅对数据 (区块) 进行分片。基于此是完全无法改善当前情况的。\n\n但是我们依靠核心协议外的 Layer 2 rollups 来提供状态和执行分片的同等效果。而这一变化发生在 Vitalik 发布他对[以 rollups 为中心的以太坊]((https://ethereum-magicians.org/t/a-rollup-centric-ethereum-roadmap/4698))的构想之后。(中文版《以 rollup 为中心的以太坊路线图》)\n\nRollups 就像以太坊引擎的涡轮增压器。EVM 之所以动力不足是因为它缺乏作为燃料的数据。在某种程度上来说，这是为了避免状态膨胀而有意为之。Rollups 就像涡轮，对燃料-空气混合物进行压缩 (即数据)，并施加压力使其进入 EVM。Rollups 还负责协议之外的状态。\n\n但是 rollups 完全独立于 Eth2。Rollups 目前已经基于 Eth1 进行开发并且运行，并且已经开始逐步实现其扩容性承诺。\n\n那么 Eth2 在扩容性方面扮演了什么角色？当前的 Eth2 计划依赖于 rollups 的成功，否则将无法提供额外的扩容性。一旦可用的 rollup 生态就位，Eth2 的性能将提升几个数量级。Rollup 涡轮增压器在 Eth1 上同样适用，但仍然受限于燃料管路。Eth2 的数据分片铺设了 64 条燃料管路，每一条的容量都远大于当前的 Eth1 区块链。也就是说 Eth2 会为 Rollups 涡轮增压器提供支持。\n\n新路线图的几点明显优势：\n\n- Rollups 使得向 PoS 的过渡 (即eth1与eth2合并) 与分片解耦，我们可以通过“[可执行信标链]((https://ethresear.ch/t/executable-beacon-chain/8271?u=benjaminion))”的方式更快地推进合并。这种设计将切换 PoS 对 dapps、工具和用户产生的影响降到最低。\n\n- 我们可以选择分片和合并的优先顺序，如果哪个部分出现问题，可以降低风险。总的交付时间缩短了 (需要交付的内容减少)。\n\n- Layer1 协议被大大简化。不需要再考虑跨分片交易等等。这些现在不是我们的问题了。总的来说[是件好事](https://vitalik.ca/general/2018/08/26/layer_1.html)。\n\n\n但也存在一些令我顾虑的因素：\n\n- Rollup 相关技术尚处于起步阶段，并不能保证它最终会成功。在最坏情况下，我们可能需要将“可执行分片”重新纳入Eth2。\n\n<br/>\n\n-----------------------------------------------------------------------------------------\n  **译者注：对此 Vitalik 在 Reddit 上进行了[回复](https://www.reddit.com/r/ethereum/comments/ljqog6/whats_new_in_eth2_13_february_2021_edition_62/gnh8gf3?utm_source=share&utm_medium=web2x&context=3)：**\n\n  与 Rollup 技术相比，直接采用可执行分片这一扩容解决方案的研发与应用更加不成熟。特别是，如果要在多个分片上实现执行功能，我们需要：\n\n  - **完全无状态验证** (为了保证系统的安全性，验证者需要快速地重组，因此不能依赖验证者储存任意某个分片的状态)\n  - **一个经济学适宜的区块提议模式** (前提是区块提议者可以选择分片，使得攻击者更容易在单个分片中控制区块提议并审查用户，我们必须想办法解决该问题)\n  - **一个跨分片交易模型**，该模型需符合经济学和适用 gas 机制\n  - **一个更完备的托管证明策略** (proof of custody game) 以处理执行 (关于验证者的两难问题，其在计算上的问题要比数据严重得多。因此我们必须得防止所有验证者只投”赞成“票)\n\n  以上所有问题都是可以解决的，但同时解决这些问题比解决 rollup 的问题要难得多。当然 rollup 也有问题，但比可执行分片这一方案少得多 (可执行分片的解决方案离实现还很远)。在我首次发布《以 rollup 为中心的以太坊路线图》这篇文章的时候，已经有三个 ZK rollups 解决方案运行数月了。\n\n\n-----------------------------------------------------------------------------------------\n\n\n- 以 rollup 为中心的世界：其中许多属于协议类型的事物都被剔除出协议，这在短期内会更加混乱。然而，独立于基础层的好处是能够迅速迭代，而市场的迫切需求最终会推动互操作性、工具等标准的应用。但这会是一段坎坷的道路。\n\n- 便宜的 layer1 交易大概已经一去不复返了，而目前的 Eth2 设计并不会改善这一点。这个消息可能会令许多人感到惊讶和沮丧。\n\n总之，我认为大家应该对上述内容心中有数。请对你中意的 rollup 开发者表示支持！\n\n<br/>\n\n# 信标链\n\n关于信标链最近没有什么大新闻。截至译文发布，有 91,829 名活跃验证者，验证者激活队列为 5,928。当前的队列长度为 6.5 天，前不久达到了21天，说明新质押存款速度开始慢了下来。不过现在已经有超过 300 万 ETH 被质押，价值 50 亿美元。\n\n不过一直有一个迷思：Justin Drake 注意到有六名验证者已经在主网中自愿退出 ([voluntary exits](https://beaconcha.in/dashboard?validators=5650,23210,24388,35051,62802,62807))。这有点出人意料。他们没有被罚没，但他们每个人都提交了自愿退出信息，因此他们不再作为活跃验证者。但是他们质押的 ETH 仍然处于锁定状态，直到 eth1 和 eth2 进行合并。\n\nAfri 也发布了针对客户端的[同步性能基准测试](https://dev.to/q9/ethereum-2-0-mainnet-clients-3and)。这是很棒的工作，但不幸的是其主要参考参数是不正确的。Teku 完全不针对同步速度进行优化，因为在弱主观性的 PoS 环境中，极少数人会从创世开始同步。实际上，这么做也存在风险。对此可以看看 Meredith Baxter 的[视频](https://www.youtube.com/watch?v=Oz3flfj50Ig)，解释了长程攻击相关问题。Teku 因此采取了即时快照同步的方式，使得用户可以在一分钟内完成同步并开始运行。这是更为可取的方式。但这一点并没有被纳入基准测试中。\n\n## 罚没\n\n唯一比较大的事件莫过于一连串的罚没事件。Staked.us 有 75 名验证者在 2 月 3 日被罚没，对此他们发布了一个[事件声明](https://blog.staked.us/blog/eth2-post-mortem)。[有些](https://twitter.com/superphiz/status/1357025776181391363)[推文](https://twitter.com/matterhorn_eth/status/1357062960510881792)表示了对此次事件的[同情][(https://twitter.com/preston_vanloon/status/1357027569783234563)]，我并没有相似的感觉。两天后他们又有 17 名验证者被罚没，据我所知这至今尚未确认。还记得 Staked 在 12 月也有 16 名验证者被罚没，也没有公开承认。我本来打算在此处引述 Oscar Wilde，但老实说，这是需要严肃对待的事[[1\\]](https://hackmd.io/@benjaminion/wnie2_210213#fn1)。\n\n此处是 [Attestant 的文章](https://www.attestant.io/posts/upgrading-attestants-infrastructure-without-missing-a-beat/)，分析了一个架构合理的质押服务如何在零罚没风险的前提下维持尽可能高的运行时。\n\n如果读者想了解更多关于罚没的背景，以及我们在客户端中的罚没保护措施，可以看看 Ethereum Cat Herders 的 [Peep an EIP #22: EIP-3076](https://www.youtube.com/watch?v=-z6OQNTAF7Y)。这个视频解释了客户端团队为了保证用户体验和安全性所采用的标准化罚没保护交换格式 (目前 Lighthouse 和 Teku 已经采用，Prysm 和 Nimbus 也即将支持)。最后十分钟还讨论了 [Eth1–Eth2 合并](https://twitter.com/poojaranjan19/status/1357735802403500032) 的可能路径。\n\n## HF1 升级\n\n目前还有一条关于信标链此后升级[命名规则](https://github.com/ethereum/eth2.0-pm/issues/202)的公开 issue。如果你有任何想法的话都可以参与！[[2\\]](https://hackmd.io/@benjaminion/wnie2_210213#fn2) (计算机科学中的难事：缓存无效、命名以及差一错误)\n\n我们在最近的开发者会议中对 [HF1 升级](https://notes.ethereum.org/@vbuterin/HF1_proposal)中所提议包含的措施进行了讨论并达成一致。大部分内容很简单，但是其中包含了首次提出的两个事项：(1) 计算方式改变 tier 2；(译者注：原提议为将每个 epoch 进行的验证者集和惩罚计算更改为每 64 epoch 进行一次，并对 inactivity leak 进行了调整)；(2) 提议在任一时间对活跃验证者的数量设置硬上限。我们同意采取第一项提议，但没有采取第二项 (目前基本上尚无定论，因为要达到提议的验证者上限至少需要一年)。[文档](https://notes.ethereum.org/@vbuterin/HF1_proposal)已经对此进行了更新。\n\n我们还同意对分叉选择规则进行两项更改，以减轻不同的理论攻击风险。Teku 团队的 Adrian 针对其中的\"余额攻击防御\"写了一篇[文章](https://hackmd.io/@ajsutton/balancing_attack)，分析其如何在客户端中实现。\n\n\n## 工具\n\nEthstaker 团队在 Twitch 上开启了 24/7 的[客户端直播](https://www.twitch.tv/ethstaker/)，旨在帮助新的以太坊2.0用户通过客户端日志辨别他们的客户端是否已经同步。光是看看也挺酷的。不幸的是，直播现在似乎已经下线了。但是它正常工作时会在四个信标链客户端以及 Geth 的控制板之间循环。\n\nInfura 的 [Eth2 API](https://twitter.com/Consensys/status/1356634209016774657) 目前已经公开测试。 [Pyrmont](https://twitter.com/infura_io/status/1359614162154921985) 测试网可用。\n\nNimbus 团队延长了他们 [dashboard 挑战](https://our.status.im/nimbus-grafana-challenge/)的[提交时限](https://twitter.com/ethnimbus/status/1360273972944920582)。现在延长到了2月28号，最佳提交者的奖品高达 5000 美元。快来试试吧，Gafrana 非常好玩！\n\nJim McDonald 的 `chaind` 程序升级到 [v0.2.0 版本](https://github.com/wealdtech/chaind/releases/tag/v0.2.0)，用以将 Eth2 的数据提取到 SQL 数据库中。\n\nJacek 的名为 [ngui](https://github.com/status-im/nimbus-eth2/pull/2304) 的[周末项目](https://twitter.com/jcksie/status/1359043872861650948)可用于探索 Nimbus 的 RPC API。\n\nBitfly [宣布]((https://twitter.com/etherchain_org/status/1357337769756880901))他们出色的 [Beaconcha.in](http://beaconcha.in/) 移动端程序现已开源。\n\n[Blst 库的审计](https://research.nccgroup.com/2021/01/20/public-report-blst-cryptographic-implementation-review/)已经完成。没有发现严重问题。有兴趣可以阅读完整报告。\n\n最后，多项式承诺 (polynomial commitments) 最近很火。Alex Stokes正在使用 [Rust](https://github.com/ralexstokes/kzg) 语言建立一个 KZG commitment 库。同时，我也在用 [C](https://github.com/benjaminion/c-kzg) 语言做同样的事。(因为我很硬核。我非常喜欢对 segmentation violations 进行debug) 我们都在做 Blst 相关的事。\n\n<br/>\n\n# 文章及其他资源\n\nDanny Ryan：[eth2 quick update no. 22](https://blog.ethereum.org/2021/02/11/eth2-quick-update-no-22/)\n\nTeku 团队的 Adrian Sutton 有一些“[硬道理](https://www.symphonious.net/2021/02/13/hard-truths-for-eth-stakers/)”要告诉 ETH 质押者们。这是在 Staking 浪潮中的沉思。\n\nSuperphiz 的 [State of the Stake](https://hackmd.io/@benjaminion/wnie2_210213)，此处是[播放列表]((https://www.youtube.com/watch?v=VYvuUd2JktA&list=PLOB9GGXGcc31_rKi1PlG0kGYf35e6l1wy))。收听 Phiz 总不会让人失望，[Ethstaker](https://ethstaker.cc/) 也一直发展得很好。\n\nBison Trails 的 Viktor Bunin 在他最近的 [eth2 进展文章]((https://bisontrails.co/eth2/010/))中回顾了上面提到的罚没事件以及其他 eth2 相关话题。\n\nCoindesk 目前在产出一些不错的 Eth2 资源。Valid Points 系列挺不错的 ([2/3](https://www.coindesk.com/valid-points-coindesks-ethereum-2-0-validator-staked), [2/10](https://www.coindesk.com/valid-points-ethereum-2-0-validators-earn-record-1-2m-price-rallies))。\n\n另外， Christine Kim 和 Will Foxley 开始了一档新的播客节目 [Mapping Out Eth 2.0](https://www.coindesk.com/podcasts/mapping-out-eth-2-0)。[第一期](https://www.coindesk.com/podcasts/mapping-out-eth-2-0/eth-staking-challenges-podcast)他们邀请到了 Spencer Beggs (CoinDesk 的工程总监)，一起讨论了他们设置 [Eth2 验证者](https://beaconcha.in/validator/90969)的相关话题. [第二期](https://www.coindesk.com/podcasts/mapping-out-eth-2-0/eth-2-0-development-roadmap)的嘉宾是 Danny Ryan。\n\nETHDenver：[演讲视频]((https://www.youtube.com/c/ETHDenver/videos?view=0&sort=dd&flow=grid))。其中比较吸引我的是 Stake Fish 的 Daniel Hwang 对于\"[信标链去中心化及透明度](https://www.youtube.com/watch?v=k10pTecu_j0)\"的演讲。我之前和 Daniel 聊过这个话题，他说得很有道理。\n\n<br/>\n\n# 研究工作\n\n以太坊基金会的[研究工作坊](https://hackmd.io/@hww/workshop_feb_2021)已于2月2日进行。以下是相关演示视频的链接：\n\n- [介绍](https://www.youtube.com/watch?t=520&v=uGeIDNEwHjs)\n- Dankrad：[KZG 多项式承诺](https://youtu.be/uGeIDNEwHjs?t=746)\n- Vitalik：[Eth2 分片设计](https://youtu.be/uGeIDNEwHjs?t=3959)\n- Danny, Mikhail 以及 Guillaume：[Eth1–Eth2 合并](https://youtu.be/uGeIDNEwHjs?t=7450)\n\n将演示的顺序倒过来可能更合适。我们几乎不需要了解 KZG commitments 的工作原理，甚至不需要了解哈希函数的内部结构，它们在大多数情况下是一个黑匣子。 无论如何，整个活动都很棒，值得花时间看看。\n\n<br/>\n\n# 实现者会议\n\n第 57 次会议于2月11日进行。\n\n- [会议日程](https://github.com/ethereum/eth2.0-pm/issues/203)\n- [会议视频](https://youtu.be/z3Gj6TXgcb0?t=208)\n- 我的[速记](https://hackmd.io/@benjaminion/H1p6GhG-d)以及Alex Stokes 的[实时推文](https://twitter.com/ralexstokes/status/1359935655803899905)\n\n<br/>\n\n# 其他新闻\n\n信标链启动的 POAPs 已经[开放领取]((https://twitter.com/superphiz/status/1358150517130747906))。如果符合[领取资格](https://beaconcha.in/poap)的话请在此处[claim](https://poap.delivery/)。\n\n以太坊基金会已经公布了最近 [Eth2 Staking Community Grants](https://ethereum.org/en/eth2/get-involved/staking-community-grants/) 的[受资助者](https://blog.ethereum.org/2021/02/09/esp-staking-community-grantee-announcement/)，25个项目总计受赠超一百万美元。\n\n<br/>\n\n# 近期活动\n\n- UTC 时间 2月20日晚上八点：我会作为嘉宾参与 Ethstaker 的会议。\n- 2月28日：Nimbus [dashboard 挑战](https://our.status.im/nimbus-grafana-challenge/)的提交截至日期\n\n<br/>\n<br/>\nECN的翻译工作旨在为中国以太坊社区传递优质资讯和学习资源，文章版权归原作者所有，转载须注明原文出处以及ethereum.cn，若需长期转载，请联系eth@ecn.co进行授权。\n","cover":{"childImageSharp":{"resize":{"src":"/static/61fa6edca7cb80c0a5c00fee68c6bbde/2244e/0e270bcef562ca7bc32c54464520bb62.jpg"}}}},"site":{"siteMetadata":{"title":"Ethereum Community Network","description":"以太坊——全球的、开源的去中心化应用平台。DeFi？NFT？游戏？虚拟世界？每一个人都可以成为以太坊的开发者和用户！","author":"@ECN以太坊社区网络","keywords":"以太坊,以太坊中国,Ethereum","siteLanguage":"zh-CN","siteLocale":"zh-cn","siteUrl":"http://ethereum.cn","twitterUsername":"@EthereumCN"}}},"pageContext":{"id":"Articles_214"}},"staticQueryHashes":["1238767529","2940180826"]}