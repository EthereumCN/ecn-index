{"componentChunkName":"component---src-template-article-js","path":"/Eth2/wnie2-2021-5-8","result":{"data":{"strapiArticles":{"title":"Eth2进展更新(截至2021/5/8)","summary":"首个合并后开发者测试网 Steklo 短暂运行；Altair 升级草拟了计划时间表","publishDate":"2021-05-12","author":"Ben Edgington","authorImg":{"childImageSharp":{"fixed":{"src":"/static/64988ed2b203b1fa0319cf09a1f7b233/eed38/21639b4d3c2f361c738a2f40035bcddc.png"}}},"content":"来源 | [What's New in Eth2](https://hackmd.io/@benjaminion/wnie2_210508)\n\n<br/>\n\n# 信标链\n\n\n截至本文发布🤯，信标链上的活跃验证者节点超 135,000 个，质押的 ETH 达到 445 万个，价值 180 亿美元。而且最近[新增质押存款](https://duneanalytics.com/hagaetc/eth2-0-deposits)的比率也有所上升。\n\n自两周前的小故障之后，信标链的一直平稳运行着。随后 Prysmatic Labs 团队对此次主网事故展开了详细的[回顾](https://medium.com/prysmatic-labs/eth2-mainnet-incident-retrospective-f0338814340c)。ECN 翻译了该文章：《以太坊 2.0 主网事故回顾》。\n\n不幸的是，信标链在连续两个月没有出现罚没事件后，上个月发生了[三起单独的罚没事件](https://beaconcha.in/validators/slashings)。我没有看到任何关于其原因的信息。\n\n<br/>\n\n# Staking\n\nAdrian Sutton 发了一个视频，他展示了 Teku 如何在[大概一分钟里](https://www.youtube.com/watch?v=ce9uVRl23zI)从零同步信标链主网信息。这个 demo 直接从 Infura 中下载了初始状态，不过你可以使用任何已知同步的信标节点，或者已下载的包含该状态的文件。这个 demo 对于质押服务和个人质押者来说都是颠覆性的改变。当信标节点实现这个同步速度时 —— 用时[从几个小时](https://twitter.com/benjaminion_xyz/status/1388182493510131719)到几十秒 —— 用户基本上可以不用再管维护持续增长的存储信息以及冗余的设置。\n\n如果用户想追踪自己的验证者节点在执行其验证职责时表现如何，那么可以看一下 Paul Hauner 发布的[电子表格工具](https://www.reddit.com/r/ethstaker/comments/n692yp/granular_validator_performance_tracking/)以及[使用说明](https://hackmd.io/xQfi83kHQpm05-aAFVV0DA?view)。这与 [Beaconcha.in](http://beaconcha.in/) 提供的单一的“有效性”数据相比要更加全面，用户还可以看到自己节点的表现与平均表现的比较。\n\n读者们听说过秘密共享验证者 (SSV，Secret Shared Validators) 吗？如果没有听说过的话，是时候学习起来了。Alon Muroch 写了最近的 [SSV 第一阶段测试](https://medium.com/bloxstaking/secret-shared-validator-ssv-phase-1-testing-summary-5e3f5ab06083)。\n\n<br/>\n\n# Rayonism 项目\n\n\n[Rayonism](https://rayonism.io/) 是俄罗斯抽象艺术的一种风格，也是以太坊正在进行的一个扩容项目，围绕 eth1->eth2 合并测试网以及分片的开发进行研究。这个项目在 EthGolobal 的 [Scaling Ethereum](https://scaling.ethglobal.co/) 黑客松下开展，不过肯定会再延伸到其他地方。\n\n来自 Nethermind 团队的 Lukasz Rozmej 制作了一个非常有用的[视频教程](https://www.youtube.com/watch?v=UFcjPmBb0fs)，演示如何使用 Nethermind (Eth1/执行层) 和 Teku (Eth2/共识层) 设置合并测试网。\n\n有一个重大新闻：首个合并后开发者测试网 Steklo，于 4 月 30 日运行了几个小时。\n\nSteklo 在俄语中是“玻璃”的意思，它[被认为是易碎的](https://twitter.com/protolambda/status/1388093066993668098)。事实也是如此 (仅运行了几个小时)。公平地说，所有团队都是在没有准备任何测试向量的情况下投入开发工作的，所以这是首次、盲目的尝试。Decrypt 发布了相关文章，写了一些关于 [Steklo 的预览](https://decrypt.co/69635/ethereum-moves-toward-eth2-super-experimental-testnet)。该测试网共展示了 [12 种客户端组合](https://twitter.com/protolambda/status/1388093072936951811)，分别是 Nethermind、Besu 和 Geth/Catalyst 与 Teku、Nimbus、Lighthouse 和 Prysm 的配对。客户端组合见下图：\n\n![Steklo](https://i.ibb.co/9cMxZVv/Steklo.jpg)\n\n<center>cr: @protolambda 的推文</center>\n\n\nLukasz 在 Rayonism Discord 频道上提供了[总结](https://discord.com/channels/595666850260713488/826479341784662056/837696090194444348) ：\n\n\n> - Lighthouse 出现共识问题，并且从一开始就分叉了 (状态根问题)，但在这个分叉上，Lighthouse 与所有执行层上的引擎都配合良好\n\n> - Prysm 出现一个故障 (一般或共识问题，仍不清楚具体问题)，并在创世就卡住了\n\n> - Besu 或 Teku 有时不能和其他客户端达成共识，但是最终他们还是达成了共识。如果它分裂，会变成两种集合：(Teku-Geth, Teku-Nethermind) 和 (Teku-Besu, Nimbus-Geth, Nimbus-Besu, Nimbus-Nethermind)。\n\n> - Nimbus 那边出现了与 Nethermind 在传输层的通信问题，但这需要 Nimbus 和 Nethermind 团队进行更多的调查。当然，它大部分时间都能正常工作 —— 有时需要重启一下\n\n\n总之，有很多事情在进行！但是，很多方向都对了，总的来说，整个测试过程非常鼓舞人心。经过一些修复后，Lighthouse 随后可以与 Teku 和 Nimbus 达成共识。\n\n\n上周我们准备了一些常用的测试向量，以便客户端可以在下一次共同测试前单独调试。计划是在下周初建立一个运行时间更长的合并开发者测试网。\n\n<br/>\n\n# Altair\n\nAltair 是计划于年中进行的一次相对较小的信标链升级。\n\n根据最近一次[开发者电话会议](https://hackmd.io/@benjaminion/wnie2_210508#Implementers)，客户团队在实现Altair规范方面进展得相当好。我们借此机会草拟了一个计划时间表(不作承诺):\n\n- Altair 的规范大约在 5 月 21 日确定下来。\n- 6月初的短期联合测试网(不测试分叉过渡，只测试Altair规范)\n- 试着在6月底之前分叉目前的测试网。我想Pyrmont将是第一个，所以最好尽快迁移到Prater以避免不稳定。\n- 7月底/ 8月初部署到信标链。\n\n在规范确定之前，有一些问题需要解决。特别是，如何处理[这个问题](https://github.com/ethereum/eth2.0-specs/issues/2314)：在升级过程中丢失了一个 epoch 的奖励。\n\n<br/>\n\n# 合并\n\n目前，大部分合并上的工作都集中在 Rayonism 项目上。\n\n然后，Rayonism 项目结束之后，还有许多工作要做。Mikhail Kalinin 在 Rayonism 频道的一个 [Discord 帖子](https://discord.com/channels/595666850260713488/826479341784662056/840126264454021170)中总结了该开放话题：\n\n\n> 首先，过渡过程 (也称为对接过程)。我们需要弄清楚它，在测试网/开发者测试网中编写代码和尝试使用。第二，同步算法；设计工作已经开始了，接下来是实现和测试。区块提议方面的技术优化、通信通道协议、无论是 JSON-RPC 或 REST；用户的 JSON-RPC 修改 (添加已敲定区块的方法)。编写与执行层修改相关的具体 EIPs。解决 BLOCKHASH 随机性问题；进行多轮测试。区块链工具，以及获得证明它们有效的证据。基础设施的更新，主要问题是区块浏览器会是什么样的。\n\n\n我们还有很多事情要做，但是对于在今年[年底之前](https://twitter.com/trent_vanepps/status/1387837123756240898)交付合并这一猜测，还是很乐观的。而持谨慎态度人认为于 2022 年第一季度交付，但是几乎没有人预估合并会晚于这个时间。\n\n<br/>\n\n# 工具\n\n我的前同事 [Mostafa Farghaly](https://github.com/mFarghaly) [发布](https://hackmd.io/@benjaminion/wnie2_210508)了 [Kotal](https://www.kotal.co/)\n\n\n> Kotal 是一个与云无关的区块链部署工具，用户可以通过 Kotal 轻易地在任意云端部署可用性高的、自主管理的、自主修复的区块链基础设施 (网络、节点、存储集群...)。\n\n\n它[支持](https://twitter.com/kotalco/status/1390015656939118593) Teku、Nimbus、Lighthouse 和 Prysm 的节点、IPFS 以及其他 Web3 的东西。\n\n<br/>\n\n# 释义性文章\n\nVitalik 在 Reddit 上发布了文章《[一些不大为人注意的以太坊 PoS 的优点](https://www.reddit.com/r/ethereum/comments/mxo151/some_lessappreciated_benefits_of_ethereums_pos/)》，点击此处阅读 ECN 的翻译。\n\n\nAlex Stokes 制作了一个有用的 [验证者生命周期流程图](https://github.com/ralexstokes/ralexstokes.github.io/blob/master/assets/pdf/validator-lifecycle.pdf)，并共享了生成图表的 [源代码](https://gist.github.com/ralexstokes/cf41fa6fe33c1620b21899e44157f68a)。\n\n\n在 Viktor Bunin 的 [eth2 更新系列 014](https://bisontrails.co/eth2/014/) 中，他针对该问题表达了一些观点：如果类似上周的事故在合并之后发生在信标链上会是什么样子。\n\n<br/>\n\n# 媒体和其他资源\n\n\n信标链事故发生之后，客户端多样性继续成为大家热议的话题。Phil.eth 写了一篇非常好的概述《[客户端多样性有益于信标链的健康发展](https://phil-eth.medium.com/diversity-for-a-healthy-beaconchain-645ee1cea7ec)》：不要只关注自己运行的客户端。Superphiz 也很关心客户端多样性的问题，他出了一期视频《[以太坊客户端多样性&如何解决该问题](https://www.youtube.com/watch?v=1hZgCaiqwfU)》。正好，我提醒一下读者们 Superphiz 的 SOTs ( [State of the Stake](https://www.youtube.com/playlist?list=PLOB9GGXGcc31_rKi1PlG0kGYf35e6l1wy)，质押的状态) 是一个非常不错的系列。\n\n\n说到 Phiz，这里是 EthStaker 社区的 [4 月回顾](https://ethstaker.cc/ethstaker-community-april-in-review/)。他仍是我在这个世界上最喜欢的人。\n\nAnthony Sassano 在他的 Daily Gwei 系列文章中写了我最喜欢的话题：合并以及 PoW 时代的结束。Status 也发布了一篇很好的文章《[以太坊很环保](https://our.status.im/ethereum-is-green/)》，文中展示了合并后将实现超低的能量消耗，让人印象深刻。\n\n\nCamila Russo在 [Ethereal Virtual Summit](https://www.youtube.com/watch?v=bIUir2I-XxU) 上采访了 Vitalik Buterin 和 Aya Miyaguchi。在 [14:04](https://youtu.be/bIUir2I-XxU?t=844) 提到了 Eth2。下面是 Decrypt 划出的重点：\n\n\n> 在 #EtherealSummit 的一段对话：\n>\n> @CamiRusso: “可以说我们最迟将在明年初完成合并吗?”\n>\n> @VitalikButerin:“听起来很合理。”\n\n\nCoindesk 的 Valid Points 出的 newsletter 系列依旧很值得阅读：4 月 28 日 和 5 月 5 日的。\n\n\n至于 Mapping Out Eth2 播客，我们在 [4月29日](https://www.coindesk.com/podcasts/mapping-out-eth-2-0/eth-blocks-stop) 那期谈到了信标链事故和客户端多样性。在 [5月6日](https://www.coindesk.com/podcasts/mapping-out-eth-2-0/staking-ethereum-more-lucrative) 那期，我们讨论了 Steklo，以及合并后验证者将预估获得更高的奖励。\n\n<br/>\n\n# 研究\n\nVitalik有一个提议，允许验证者 [更改他们的签名密钥](https://ethresear.ch/t/adding-pos-validator-key-changes/9264?u=benjaminion)：它提供了一种方式，用户委托质押池参与质押，同时保留对其质押资产的管理，也能够为自己的罚没事件负责。\n\n<br/>\n\n# 常规会议\n\n## 实现者会议\n\n\n客户端实现者第 63 次会议于 5 月 6 日举行。\n\n- [会议议程](https://github.com/ethereum/eth2.0-pm/issues/217)\n- [会议视频](https://www.youtube.com/watch?v=qhcMxBh0GEc&t=126s)\n- [我的速记](https://hackmd.io/@benjaminion/B1wRBDWdd)，还有 [Alex Stokes的推特笔记](https://twitter.com/ralexstokes/status/1390370217524568064) \n\n\n我们讨论了升级至 Altair 会出现的一个问题，如果我们不采取[一次性修复](https://github.com/ethereum/eth2.0-specs/pull/2373)，将导致在升级过程中丢失一个 epoch 的奖励。对此大家意见不一。修复会增加实现和测试的复杂性，而不修复的话，可能丢失的奖励相对来说非常小。\n\n\n我们还为 Altair 的交付制定了[一个暂定时间表](https://hackmd.io/@benjaminion/wnie2_210508#Altair)。\n\n## 合并会议\n\n第三次合并电话会议于 4 月 29 日举行。\n\n- [会议议程](https://github.com/ethereum/pm/issues/305)\n- [会议视频](https://www.youtube.com/watch?v=KAm718N_bvA)\n- [会议笔记](https://github.com/ethereum/pm/blob/master/Merge/Meeting03.md)\n\n\n关于 Rayonism 有很多详细的讨论和计划。另一个有用的信息是：Dmitry Shmatko 一直致力于验证者余额提款工作，并且即将开展下一阶段的工作，即允许部分提款 (提出验证者的质押奖励，但留下本金)。有人计划在某个时候在 Rayonism 网络上测试该功能。\n\n<br/>\n\n# 其他新闻\n\n\n- Go 中的另一个 [bug](https://groups.google.com/g/golang-announce/c/cu9SP4eSXMc) 已经在 [Eth2 Bug Bounty 项目](https://ethereum.org/en/eth2/get-involved/bug-bounty/)中被人发现并修复。\n\n\n","cover":{"childImageSharp":{"resize":{"src":"/static/61fa6edca7cb80c0a5c00fee68c6bbde/2244e/0e270bcef562ca7bc32c54464520bb62.jpg"}}}},"site":{"siteMetadata":{"title":"Ethereum Community Network","description":"以太坊——全球的、开源的去中心化应用平台。DeFi？NFT？游戏？虚拟世界？每一个人都可以成为以太坊的开发者和用户！","author":"@ECN以太坊社区网络","keywords":"以太坊,以太坊中国,Ethereum","siteLanguage":"zh-CN","siteLocale":"zh-cn","siteUrl":"http://ethereum.cn","twitterUsername":"@EthereumCN"}}},"pageContext":{"id":"Articles_260"}},"staticQueryHashes":["1238767529","2940180826"]}