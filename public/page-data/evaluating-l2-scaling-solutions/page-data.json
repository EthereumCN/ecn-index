{"componentChunkName":"component---src-template-article-js","path":"/evaluating-l2-scaling-solutions","result":{"data":{"strapiArticles":{"title":"如何评估六大以太坊LAYER2扩容方案","summary":"这里是一份以太坊Layer-2扩容解决方案评估指南，从多个方面分析了ZK rollup、optimistic rollup、侧链、支付通道、plasma以及validium，助您选择最适合自己的扩容解决方案！","publishDate":"2020-06-19","author":"Alex Gluchowski","authorImg":{"childImageSharp":{"fixed":{"src":"/static/6fd16b424f193e9e9e09c6454d15e6ab/62915/61ef124ebd4c1d8d80b6a9dfb8152754.png"}}},"content":"来源 | [Matter Labs](https://medium.com/matter-labs/evaluating-ethereum-l2-scaling-solutions-a-comparison-framework-b6b2f410f955)\n\n\n\n\n\n <br/>\n\n随着越来越多的扩容方案崭露头角，以太坊第2层扩容生态系统对网络建设者来说已变得难以取舍。棘手的问题在于，每个解决方案都承诺向用户保证去信任、安全性、经济适用性以及易于使用，这不可避免地会让开发者们眼花缭乱，难以抉择。因此我们建议建设者不要轻易相信每个方案的一面之词，而是应该全面地调查比对清楚，然后在各种方案之间做出权衡。\n\n为了让这项工作不那么复杂，我们整理了一系列问题，以帮助网络建设者评估不同的扩容解决方案，从而采用最适合其需求的解决方案。这些问题分为以下几类：\n\n- 安全性\n- 性能/经济适用性\n- 可用性\n- 其他方面\n\n除了这些问题之外，我们还汇总了一张对照表，为读者搭建一座桥梁，让其能够窥探到不同扩容方案设计者的想法。尽管我们已尽最大的努力保持中立和公正，但想要简明扼要地比对不同方案的异同，仅靠一张表格是不够的。我们希望后文的补充问题与假设能够弥补表格的不足。\n\n\n\n<center><img src=\"https://i.ibb.co/ss3j8D8/528b952e1b.png\"/></center>\n\n\n\n\n<center>非常感谢Georgios Konstantopoulos（L2独立研究者）、John Adler（Fuel）、Ben Jones（Optimism）、JD Kanani（Matic）、Patrick McCorry（any.sender）、Justin Drake（以太坊基金会）和Brecht Devos（Loopring）对该表格的校对和更正。</center>\n\n##   <br/>\n\n# 安全性\n\n## 活性假设 (例如瞭望塔)\n\n该协议需要用户活性吗？换句话说：用户需要自己监测扩容方案上所有链上 (比如Layer-1) 活动吗？还是说通过可信任的代理方 (瞭望塔) 来监测呢？\n\n在某些情况下，可以通过一些措施激励可信任的各方负责保证链上活性，激励措施需要与其用户一致 (即担保)。然而，值得注意的是，这些可信任代表方会因为行为不当而承担经济损失，而损失的金额不超过他们成为委托方所提交的“押金” (即保证金)。用户应该考虑委托方是否有机会攫取超过保证金金额的利益，以及对风险的承受度如何。\n\n## 大规模提款退出假设\n\n该扩容性方案的安全性假设允许所有用户在短时间内成功退出交易 (即提款) 并将资金转移到Layer-1上吗？\n\n当某个Layer-2扩容方案出现安全漏洞时，所有用户需要在短时间内退出Layer-2，这便是大规模提款退出假设。如果用户选择留在Layer-2，则运营者可能会暗中操纵并没收Layer-2上剩下的资金。比如Matic支持大规模提款退出假设，留给用户提款的期限是一周。\n\n但是由于网络堵塞和拒绝服务攻击 (Denial-of-Service, DoS)，实现大规模提款退出假设相当困难。比方说，在给定用户退出Layer-2的时间范围内，以太坊网络可能会高度拥挤，因此交易也许无法及时打包。即使不会出现网络拥堵的情况，也可能会有攻击者操纵gas费或者对以太坊[日蚀节点](https://eprint.iacr.org/2018/236.pdf) (eclipse nodes) 进行攻击，导致交易无法及时打包。该攻击向量值得我们深思。\n\n## 托管\n\nLayer-2的验证者若是达到一定数量，能否长期使用户无法访问自己的资金？他们可以窃取用户的资金吗？\n\n如果你想要你的项目保持抗审查性的话，这一点尤其重要。\n\n## 热钱包密钥易受攻击\n\nlayer-2解决方案中的资金安全性是否取决于运营者保障密钥安全性的能力？密钥是否必须保持在线才能维持系统运作（即热钱包密钥）？\n\n有的密钥必须保存在线上以保持系统运作 (如热钱包密钥)。那么Layer-2解决方案上的资金安全性是否取决于运营者保障密钥安全性的能力？\n\n[众所周知，保护热钱包是很难的。](https://www.bitdegree.org/tutorials/cold-wallet/)\n\n## 易受加密经济攻击\n\n解决方案应对加密经济攻击时脆弱性如何？以及方案设计是否基于博弈论的假设？\n\n受加密经济激励诱发的攻击形式多样，包括[损害Layer-2上验证者（或他们的运营人员）的声誉](https://www.imperva.com/learn/application-security/social-engineering-attack/)，[贿赂Layer-1的矿工](https://ethresear.ch/t/nearly-zero-cost-attack-scenario-on-optimistic-rollup/6336)，建立[恶意DAO](https://slideslive.com/38911605/smart-contract-security-incentives-beyond-the-launch)等。这些攻击向量进化得非常快，并且经证实难以在基于博弈论假设架构的系统里消除这些向量。\n\n这里还包括一些非技术性盗窃但产生同等后果的情况。例如[这种对Validium的双花攻击](https://twitter.com/the_matter_labs/status/1270093208727556108)：攻击者无法通过设计窃取其他人的资金，但仍然可以重复使用自己的资金。\n\n## 密码学基元\n\n解决方案是基于标准密码学还是较新的密码学研究，比如[SNARKs或STARKs](https://github.com/matter-labs/awesome-zero-knowledge-proofs)？\n\n通常来说，面世时间越长的加密学架构，越难被破解。如果使用的加密学技术越先进、越新颖，那么就需要能力更强的团队来对其进行实现和审计。\n\n  <br/>\n\n# 性能/经济适用性\n\n## 最大吞吐量\n\n在以太坊1.0的解决方案中，能实现的最大吞吐量是多少？以太坊2.0呢？\n\n尽管某个解决方案的吞吐量在今天看来可能令人满意，但你自然会展望未来，对将来所需的额外吞吐量进行预测，考虑你计划采用的方案是否能满足未来的需求。\n\n## 资本效率\n\n扩容方案的资本效率如何？它需要锁定大量资金才能运作吗？\n\n与其他解决方案相比，资金效率较低的系统用户成本会更高，并且可能由于缺乏即时的流动性而发生运行中断。比如，支付通道的资金效率相对较低，因为通道运营者必须锁定其通道平均交易量几倍的资金才能确保交易金额不超出容量上限。\n\n## 开新账户的成本\n\n新用户在Layer-2开账户时需要Layer-1的链上交易记录吗？\n\n在对比图表里，我们展示的是每个系统在最好情况下的表现，但在个别实现里，效率可能没那么高。例如，zkSync和Loopring都用zkRollups，但Loopring要求用户用Layer-1的一笔交易来开新账户才可以使用支付功能，而zkSync则不需要。\n\n  <br/>\n\n# 可用性\n\n## 提款时间\n\n在Layer-1上提款需要多长时间？\n\n为了解决纠纷，一些解决方案的提款期限可能要花上一周或更长的时间。为了缓解长时间等候的问题，有没有流动资金提供者可以为用户提供流动资金以换取风险溢价？由于快速提款需要支付一定的金额，那使用这个方案的真实价格是多少？\n\n## 获得主观最终确定性的耗时\n\n基于协议的安全性预设，一笔交易多快能够达到在Layer-1中无法被回滚的状态？\n\n主观确定性的意思是，即使Layer1的智能合约还不能信赖该交易，但外部的观察者能信服交易的不可逆性。例如，在Optimistic Rollups里，为了得到Layer-1的确定性，你需要一个以太坊上的证明，然而完全获得确定性需要大约1周时间。\n\n## 客户端对主观确定性的可验证性\n\n轻客户端（浏览器/移动钱包）可以验证主观确定性时间吗？\n\n继续optimistic rollups的例子，当你需要以太坊上的一个证明来得到Layer-1的确定性和验证你的交易不可更改时，你必须下载整个rollup状态并执行上周的所有交易，以确保打包的区块都是有效的。\n\n## 即时交易确认\n\n解决方案能否提供真正的即时交易确认？还是提供担保下的即时交易确认？\n\n“即时表面确定性”可以在大多数Layer-2协议上实现，例如，交易会在用户交互中显示即时的确认。只有支付通道（状态通道）对这些证明提供完全的安全性保证，而在其他协议里，这些交易在Layer-1上被确认之前仍然可以被撤销。撤销这些交易不是没有代价的，无论成功与否，这些方案上的验证者都将失去他们的安全保证金（即存款）。\n\n即时交易确认这一特性取决于扩容方案具体实现上的细节。\n\n  <br/>\n\n# 其他方面\n\n## 智能合约\n\nLayer-2支持任意可编程的智能合约还是仅限于使用[predicate](https://specs.counterfactual.com/en/latest/adjudication-layer.html)实现的子集。\n\n## 字节码的可移植性\n\n你可以将以太坊合约上的既有EVM字节码几乎原封不动地移植吗？\n\n## 本地隐私支持\n\n协议提供本地隐私支持吗？\n\n如果没有默认的低成本屏蔽交易，隐私保护将会[非常低效](https://twitter.com/VitalikButerin/status/1196468111995756544)，在关于在多个平台上去匿名化的大量研究里, 这一点已得到充分有力的证明（[1](https://cryptolux.org/images/d/d9/Zcash.pdf),[2](https://arxiv.org/pdf/2005.14051.pdf)）。\n\n  <br/>\n\n# P.S.对zkRollups的一个边注\n\n现在有两个扩容方案是使用zkRollups的，现在可以试用——路印（主网上线）和[zkSync](https://zksync.io/) （Matter Labs旗下平台，现已上线）。两者的主要区别在于对底层证明系统的选择。路印用的是Groth16 SNARK，配以一个特定应用信任设置，而zkSync使用了更新的PLONK，配以通用信任设置的证明系统。考虑到最近这个证明系统在设计上获得的突破，我们相信PLONK会成为促进zkRollups应用的一个主要因素，我会在即将发布的文章里详细说明。\n\n\n\n我们希望这篇文章对读者在寻找扩容方案时会有所帮助，并且使你对这领域的未来感到兴奋。如果你有任何疑问，或你想就上面谈论到的内容进行讨论，欢迎随时通过邮件hello@matter-labs.io、[Twitter](https://twitter.com/the_matter_labs)、[Telegram](https://t.me/zksync)联系我。\n\nMatter Labs致力于让更多的人参与到公共区块链上。我们正在构建[zkSync](https://zksync.io/)，这是以太坊上一个安全快速的扩容平台。\n\n译者注：zkSync已于6月18日上线主网。\n\n <br/>\n\n <br/>\n\n声明：ECN的翻译工作旨在为中国以太坊社区传递优质资讯和学习资源，文章版权归原作者所有，转载须注明原文出处以及ethereum.cn，若需长期转载，请联系ethereumcn@gmail.com进行授权。","cover":{"childImageSharp":{"resize":{"src":"/static/fe5a71d7f014db072c647664d3af398b/2244e/fef2c944138173c6520a7d15edc10d38.jpg"}}}},"site":{"siteMetadata":{"title":"Ethereum Community Network","description":"以太坊——全球的、开源的去中心化应用平台。DeFi？NFT？游戏？虚拟世界？每一个人都可以成为以太坊的开发者和用户！","author":"@ECN以太坊社区网络","keywords":"以太坊,以太坊中国,Ethereum","siteLanguage":"zh-CN","siteLocale":"zh-cn","siteUrl":"http://ethereum.cn","twitterUsername":"@EthereumCN"}}},"pageContext":{"id":"Articles_142"}},"staticQueryHashes":["1238767529","2940180826"]}