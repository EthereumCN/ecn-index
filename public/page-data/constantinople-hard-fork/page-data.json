{"componentChunkName":"component---src-template-article-js","path":"/constantinople-hard-fork","result":{"data":{"strapiArticles":{"title":"君士坦丁堡硬分叉我们需要了解的事","summary":"在2018年12月6日周四举行的以太坊双周核心开发者会议上，以太坊君士坦丁堡硬分叉被敲定。","publishDate":"2018-12-24","author":"Jay Fried","authorImg":{"childImageSharp":{"fixed":{"src":"/static/bbf38496e919c06d33b16c85030ab940/07ab6/261b412f5fcbbe025a05e320a17fe6c9.jpg"}}},"content":"**“君士坦丁堡”将在第7080000个区块上进行分叉，分叉预计时间在2019年1月14日。** \n\n <br/>\n\n# 以太坊君士坦丁堡高度概括\n\n\n\n君士坦丁堡硬分叉将为以太坊区块链带来急需的性能更新，同时解决“难度炸弹”和“矿工奖励”相关问题。\n\n\n\n君士坦丁堡是一次非常密集且广泛的更新。它将打破落后的兼容性问题，这意味着本次更新将以硬分叉的形式进行。但这次硬分叉并非预期中将以太坊分裂为两个货币。本次硬分叉更像是一次系统升级。正常情况下，当人们听到“硬分叉”这个词时，他们通常会认为是原本的区块链将分为两条，同时产生第二种代币。情况并非总是如此。如果每个人都赞同更替并就升级达成共识，当发生硬分叉时，每个人只需要转换到新版本上。\n\n <br/>\n\n# 以太坊君士坦丁堡5大升级\n\n君士坦丁堡由5个主要的改进方案组成。大部分更改进与其性能相关。因为随着其他平台性能加快大大提高了竞争力，性能将是以太坊急需解决的一个问题。为了解决该问题，以太坊开发人员正在改善以太坊虚拟机（EVM）。你可以把EVM当做幕后执行与智能合约相关联的代码的引擎。\n\n<br/>\n\n## Vitalik Buterin\n\n### EIP（以太坊改进提案）定义\n\n君士坦丁堡5个改进提案都被列为EIP并按照时间顺序排列。EIP代表以太坊改进提案。以太坊社区中任何一个成员都可以编写一个提案并提交审核。如果社区大部分成员都赞同，该提案将获得许可并加入到即将发布的版本中。\n\n <br/>\n\n### EIP145\n\n第一个改进提案EIP145是由开发人员Alex Beregszaszi与Pawel Bylica编写的技术改进。这个改进在EVM中添加逐位移动（Bitwise shifting）指令。逐位移动是指将二进制数的位移到左边或右边的过程。使用新指令，该操作将节省大约10倍的gas。简言之，这意味着执行智能合约将变得更加便宜且更有效率。\n\n\n\n\n\n\n\n\n<center><img src=\"https://i.ibb.co/Lh35dzT/1-6d565deeca.png\" /></center>\n\n\n\n<br/>\n\n### EIP1052\n\n我们即将讨论的第二个更新是由Nick Johnson与Pawel Bylica联合编写的EIP1052。本次升级将引入新操作，该操作将提高智能合约验证其他智能合约代码的效率。在此之前，用户需要提取其他智能合约代码并对其进行验证。完成新升级后，仅需验证传送回来的代码散列而非完整代码。这一改进非常重要，当你有许多需要相互交互的智能合约时，使用散列验证将大大加速验证流程。\n\n\n\n\n\n\n<center><img src=\"https://i.ibb.co/TP3JzHB/2-666d79394f.png\" /></center>\n\n\n\n\n\n<center>注：EIP145与1052组合旨在提高EVM效率。这将降低在以太坊网络上执行智能合约的成本。</center>\n\n<br/>\n\n### EIP1014\n\n接下来是由创始人Vitalik Buterin自己编写的EIP1014提案。该提案在以太坊网络上添加了状态通道。状态通道很容易就能与比特币闪电网络相媲美。其中主要的一点是状态通道允许在远离主链的支付通道内进行交易。这将实现更高的吞吐量并提高每秒交易量。\n\n\n\n\n\n\n\n\n<center><img src=\"https://i.ibb.co/3fpkz1C/4-6179f32d7a.png\" /></center>\n\n\n\n\nEIP1014 Github页面显示本次改进的主要原因：\n允许（实际或反事实通道内）使用不在链上的地址进行交互，最终只能依赖这些地址来包含由特定的初始代码片段创建的代码。\n这基本上意味着状态通道将允许主链引用尚未广播到链上的链下交易。\n\n<br/>\n\n### EIP1234\n\n第四个提案EIP 1234是由以太坊主要客户端Parity发布经理Afri Schoedon所倡导的“难度炸弹延迟”与“区块奖励调整”。EIP1234是以太坊本次升级中最受关注的一个提案。该提案已经通过审批，主要与延迟难度炸弹、降低区块奖励相关。但仍存在疑问：什么是难度炸弹？为什么我们要降低区块奖励？\n\n\n\n\n\n\n\n<center><img src=\"https://i.ibb.co/LPz7nSV/5-d96f6b5cef.jpg\" /></center>\n\n\n\n<br/>\n\n#### 区块奖励\n\n我们首先讨论区块奖励。到目前为止，以太坊矿工开采个新区块所获奖励仍为3枚ETH。每15秒就有一个新区快被创建，这意味着每天都有5-6000个区块被添加至链上。每个区块奖励3枚ETH，每天区块奖励总供给量就有15-18000枚ETH。\n\n这个数量不容小觑，如果你有兴趣了解更多，请点击[此处](https://achainofblocks.com/2018/09/04/cryptocurrency-price-inflation-explained/)。\n\n新升级提案将挖矿奖励从3枚ETH降低为2枚，这将有效遏制“通货膨胀”问题。降低区块奖励的目的是推高ETH价格，大家都知道，“物以稀为贵”。比特币也有类似的自动机制，每生产210000个区块，奖励将减半。\n\n <br/>\n\n#### 难度炸弹\n\nEIP1234同时提出难度炸弹发布延迟一年。但究竟什么是难度炸弹？这与以太坊计划移除PoW算法而采用PoS相关。可点击[此处](https://achainofblocks.com/2018/08/24/proof-of-stake-delegated-proof-of-stake-proof-of-work/)了解其重要性。\n\n总的来说，现在以太坊区块链上，矿工需要处理交易并创建新区块。他们通过工作量证明机制获得区块奖励。然而，权益证明机制下，矿工将不再被需要进而失业。当以太坊最终转换为权益证明时，矿工可以选择不进行更新并保持在旧链上。这将是真正的“硬分叉”，以太坊社区一分为二，双方各自支持着不同的链。\n\n以太坊过去曾经发生过这种事，这就是为什么现在有以太坊与以太经典共存。以太坊开发者正尝试不要重蹈覆辙。他们想出的解决方法是在协议中添加难度炸弹。难度炸弹是一种使新区块开采难度随着时间推移而成倍增加的机制。开采难度将持续增加直至再无新区快。当区块不再被开采时，网络将中断或冻结。这种情况被称为以太坊冰河期。该概念在2015年9月7日加入协议之中。\n\n\n\n\n\n\n\n<center><img src=\"https://i.ibb.co/jRh5mCp/6-82f6ece4c1.png\" /></center>\n\n\n\n\n\n\n难度炸弹完成了两件事。首先，这给以太坊开发者增加压力，开发人员需要为避免冰河期发生而更新协议。其次，难度炸弹迫使矿工采用新升级版本。否则，矿工所在网络将不会有任何营收。难度炸弹的想法很好，但所有好想法都存在各自的弊端。该想法是在2015年末引入的，其目标是在2016年底使以太坊旧网络不再可用。当时的想法是网络已经迁移到权益证明机制。很明显，目前仍未发生，只剩下EIP 1234提案——将难度炸弹推迟一年。这使得难度炸弹预期发布时间推迟至2020年1月14日。\n\n <br/>\n\n### EIP1283\n\n最后一个提案EIP-1283是在Nick Johnson早期撰写的EIP-1087的基础上提出的。EIP-1283被称为无dirty maps的SSTORE gas净值计算方式。这个提案的名字较长且令人困惑不已，简单来说EIP-1283使多个更新可以在交易中使用相同的storage slot来降低成本。这个完全可以做到，因为交易是在结束后才被写入磁盘。\n\n <br/>\n\n# 结论\n\n正如上面提过的，相比起硬分叉，君士坦丁堡更像是一次系统更新。本次分叉开始为其它即将到来的分叉（包括Plasma和Casper）奠定基础。所有这些工作都是为了将网络从工作证明机制迁移到权益证明机制上来。\n\n<br/>\n\n<br/>\n\n声明：ECN的翻译工作旨在为中国以太坊社区传递优质资讯和学习资源，文章版权归原作者所有，转载须注明原文出处以及ethereum.cn，若需长期转载，请联系ethereumcn@gmail.com进行授权。\n\n","cover":{"childImageSharp":{"resize":{"src":"/static/3f00fec4718c13a7079aa441acaaaa7b/2244e/00cc6eb4f88df65c0b3141c55d30adfe.jpg"}}}},"site":{"siteMetadata":{"title":"Ethereum Community Network","description":"以太坊——全球的、开源的去中心化应用平台。DeFi？NFT？游戏？虚拟世界？每一个人都可以成为以太坊的开发者和用户！","author":"@ECN以太坊社区网络","keywords":"以太坊,以太坊中国,Ethereum","siteLanguage":"zh-CN","siteLocale":"zh-cn","siteUrl":"http://ethereum.cn","twitterUsername":"@EthereumCN"}}},"pageContext":{"id":"Articles_134"}},"staticQueryHashes":["1238767529","2940180826"]}