{"componentChunkName":"component---src-template-article-js","path":"/Technology/commit-chains/","result":{"data":{"strapiArticles":{"title":"一文解释 Commit-Chains","summary":"什么是非托管侧链？本文介绍了 commit-chain 的运作原理","publishDate":"2021-06-09","author":"EthHub","authorImg":{"childImageSharp":{"fixed":{"src":"/static/f76f4fb09cf005ba5edc671a4ad2e97f/2244e/cfbaf5b5eac08dc5bc0f26d8fed795f6.jpg"}}},"content":"来源 | [ethhub.io](https://docs.ethhub.io/ethereum-roadmap/layer-2-scaling/commit-chains/)\n\n<br/>\n\n# 什么是 commit-chains？\n\nCommit-chains 也是 \"Plasma\" 的通用术语 —— 以太坊以及其他区块链的 Layer-2 扩容解决方案。\n\nVitalik Buterin 曾开玩笑地说，\"Commit chains\" 更符合比特币的品牌形象，而 \"Plasma\" 对以太坊来说更符合其品牌形象。\n\nCommit-chains 有时也被形容为非托管的侧链，它们并不像侧链那样引入新的共识机制 —— 它们依赖于主链的共识，这使得它们与主链一样安全。\n\n在 commit-chains 中，无需信任和非托管的运营者促进了交易各方的通信。运营者通过定期发送更新至主链，以验证用户账户余额的状态。\n\n<br/>\n\n# Commit-chains 的工作原理？\n\n![commit](https://i.ibb.co/8XCvCRZ/commit.png)\n\n与支付通道不同，commit-chains 一旦启动就一直处于持续状态，而不是依赖于“三种状态”模型 (开放、实时、争议/关闭)。\n\n运营者启动 commit-chain 后，用户可以加入并执行记录在 commit-chain 上的交易，同时用户任何时候都可以将其资产提款至主链中。\n\n## 定期检查点证明 (Commitments)\n\nCommit-chain 的用户可能需要定期观察链上检查点证明，该证明的实例可以为默克尔根或者零知识证明 (ZKP)。\n\n虽然零知识证明在链上执行一致的状态转换，但\"默克尔根证明\"并不会执行，这就要求用户参与挑战回应协议，以挑战运营者的不当行为。\n\n## 数据可用性请求\n\n因为数据并不是广播到网络上的，所以用户必须检索和维护退出 commit-chain 所需的数据。\n\n根据不同的实现，当数据不可用时，要么用户会被强制退出 (就像在 Plasma 中) 或者运营者会被要求提供必要的数据 (就像在 NOCUST 中)。\n\n遇到作恶的行为时，允许用户带着他们最后确认的余额退出。\n\n## 中心化但无需信任的中介\n\n中心化运营者从不持有托管资金，所以如果运营者不可用，最坏的情况只是用户无法再进行链下交易，但他们在任意时间退出并转移到另一条 commit-chain 上。\n\n## 交易敲定\n\n与支付通道不同，commit-chain 运营者不需要链上抵押品来安全地在用户之间进行支付。\n\nCommit-chain 交易不像支付通道那样提供即时的交易敲定，但是提供链上检查点之后的最终敲定。\n\n然而，如果运营者选择为每个用户分配抵押品，实质上是在 commit-chain 上实现一个支付通道，那么就有可能实现即时的交易敲定。\n\n## 减少路由需求\n\n单个 commit-chain 有可能承载数百万名的用户，所以我们设想用几个静态连接的 commit-chain 来产生稳定的网络，并降低路由的复杂性。目前还没有人提出原子式跨 commit-chain 交易。\n\n<br/>\n\n# Commit-chain 的安全属性\n\n用户端的安全属性可以概括如下：\n\n## 商定的转换\n\nCommit-chain 交易至少需要发送方和 commit-chain 的运营者同意。\n\n## 余额安全\n\n诚实的用户总是可以利用链上争议从 commit-chain 上撤回商定的余额。\n\n即使运营者和所有其他 commit-chain 用户串通，也能够为诚实用户提供余额安全保障：因为只有当发送者和运营者同意某笔支付，并通过定期的链上检查点验证时，交易才可以被敲定。\n\n## 状态发展\n\n用户任何时候都可以在链上强制执行链下的状态转换。\n\n## 证明的完整性\n\n由于 commit-chain 没有固定的 3 个阶段的生命周期，commit-chain 的用户能够在任意时间点验证运营者的证明完整性，并强制运营者操作并回滚到之前的定期证明中。\n\n<br/>\n\n# NOCUST commit-chain\n\n## 概述\n\n“NOCUST commit-chain” 的概念是由 Liquidity Network 以及他们的同行在一篇[学术论文]((https://eprint.iacr.org/2018/642.pdf))中首次提出。\n\nNOCUST 是一种基于账户的 commit-chain，在 NOCUST 中，一个链上地址与一个 commit-chain 账户相关联。\n\nNOCUST 链上合约期望能够定期从运营者 (该运营者包含了抵押池中的每个用户账户) 中接收证明，这是一个 commit-chain 账本状态的恒定大小的证明。\n\n## 自由建立\n\n用户可以在合约中存入任意数量的代币，并对其他用户进行任意面额的 commit-chain 支付。而用户可以不需要链上交易就可以自由加入 commit-chain，用户可以要求运营者签名，然后立即接收 commit-chain 交易。\n\n## 商定的转换\n\nNOCUST 内的交易是由发送者和运营者共同签名而执行的，以预防潜在的双花情况。\n\n## 即时的交易敲定\n\n只有当运营者将抵押品抵押给接收者时，才有可能实现状态发展。NOCUST 规定了一种机制，即在恒定大小的链上证明中向所有 commit-chain 的用户分配抵押品，这能够实现特定数量的即时交易敲定。\n\n在每个链上检查点之后，分配的抵押品是可以重复使用的，在这一点上，交易吞吐量只受运营者的带宽和计算吞吐量限制 —— 与检查点证明的间隔无关。\n\n## 证明的完整性\n\n每个用户只需向运营者请求数据，并在定期的时间间隔内将其与本地存储的状态进行比较来观察完整性，从而验证自己余额证明。\n\n遇到作恶行为时，用户可以使用 NOCUST 智能合约提出挑战。如果运营者返回的无效信息或者不回应，用户就能够证明其不当行为。\n\nNOCUST 通过 zkSNARKs 支持可证明的一致操作模式。底层智能合约将验证 Layer-2 状态转换，如果不停止，运营者将无法验证无效的状态转换。\n\n<br/>\n\n#  比较 commit-chains\n\n将 NOCUST commit-chain 与 Plasma Cash 进行比较，后者是一份最全面的 Plasma 实现的运行草图。\n\n比较数据基于 [知识学术论文的系统化](https://eprint.iacr.org/2019/360.pdf)，并来源于与 [Georgios Konstantopoulos](https://twitter.com/gakonst?lang=en) 的讨论。\n\n|                一般属性                | Plasma Cash | NOCUST |\n| :------------------------------------------------------: | :---------: | :----: |\n|                 安全证明                  |      ✕      |   ✓    |\n|        链下交易接收         |      ✓      |   ✓    |\n|            同质化代币的支付             |      ✕      |   ✓    |\n|     客户端可以保持离线状态     |      ✕      |   ✕    |\n|               安全大批量退出               |      ✓      |   ✓    |\n|        即时的交易敲定        |      ✕      |   ✓    |\n|                 代币支持                   |      ✓      |   ✓    |\n|           非同质化代币 (NFT)          |      ✓      |   ✕    |\n|  可证明的一致的状态 (ZKP) |      ✕      |   ✓    |\n|                    Commit-chain swaps                    |      ✕      |   ✓    |\n\n\n\nPlasma 是基于 UTXO 的 commit-chain，而 NOCUST 是基于账户的 commit-chain。\n\n在 Plasma Cash 中，一枚代币是通过链上存款铸造的，不能与 commit-chain 上的另一枚代币合并或拆分，因此它只对 NFT 有用，但不可以作为一个支付系统来使用。\n\nNOCUST 使用 ZKPs 在链上执行一致的状态转换，Plasma Cash 利用默克尔根证明，它不要求用户参与挑战回应协议以挑战运营者的不正当行为。\n\n<br/>\n\n# 参考资源\n\n- [Commit-Chains: Secure, Scalable Off-Chain Payments Academic Paper](https://eprint.iacr.org/2018/642.pdf)\n- [Systemization of Knowledge: Off The Chain Transactions Academic Paper](https://eprint.iacr.org/2019/360.pdf)\n- [Liquidity Network Research Papers](https://liquidity.network/research)\n\n<br/>\n<br/>\nECN的翻译工作旨在为中国以太坊社区传递优质资讯和学习资源，文章版权归原作者所有，转载须注明原文出处以及ethereum.cn，若需长期转载，请联系eth@ecn.co进行授权。","cover":{"childImageSharp":{"resize":{"src":"/static/1b77dea559edd98db7839eb8c7b0e572/497c6/74be2ef0c4b90f3ccc8539501a2ff840.png"}}}},"site":{"siteMetadata":{"title":"Ethereum Community Network","description":"以太坊——全球的、开源的去中心化应用平台。DeFi？NFT？游戏？虚拟世界？每一个人都可以成为以太坊的开发者和用户！","author":"@ECN以太坊社区网络","keywords":"以太坊,以太坊中国,Ethereum","siteLanguage":"zh-CN","siteLocale":"zh-cn","siteUrl":"http://ethereum.cn","twitterUsername":"@EthereumCN"}}},"pageContext":{"id":"Articles_279"}},"staticQueryHashes":["1238767529","2940180826"]}