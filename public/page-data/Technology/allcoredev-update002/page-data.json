{"componentChunkName":"component---src-template-article-js","path":"/Technology/allcoredev-update002","result":{"data":{"strapiArticles":{"title":"以太坊核心开发者会议更新002","summary":"gas limit 提高讨论，柏林升级故障解释","publishDate":"2021-04-22","author":"Tim Beiko ","authorImg":{"childImageSharp":{"fixed":{"src":"/static/e7355d96c1886baceafee7ec2aa095af/07ab6/6ec484f449cc13afd6542fab8670c2c3.jpg"}}},"content":"来源 | [AllCoreDev Update](https://hackmd.io/@timbeiko/acd/https%3A%2F%2Fhackmd.io%2F%40timbeiko%2Facd-update-002)\n\n<br/>\n\n# 摘要👀\n\n\n- Berlin 上线，OpenEthereum 在分叉出现了问题，但快速进行了修复，gas limit 将可能小幅提升\n- 伦敦升级已经有一个 EIP-1559 的开发者测试网了！同时计划多个分叉涉及非常多的工作，因此我们准备开一个额外的 AllCoreDev 会议；\n- 核心开发者开始设计“合并” 的原型——关注 [Rayonism](https://rayonism.io/)☀️\n\n<br/>\n\n# 招聘更新 ⚒️\n\n- Gnosis [正在招聘 OpenEthereum 的核心开发者](https://boards.greenhouse.io/gnosis/jobs/4497327002)，薪酬上涨了\n- Nethermind [正在招聘毕业生参与客户端工作](https://twitter.com/nethermindeth/status/1371830786777833473)——在这种岗位上招新人是非常罕见的！\n- ConsenSys [正在招聘 Besu 客户端的开发者](https://consensys.net/open-roles/2397547/)。\n\n<br/>\n\n# 柏林升级\n\n在区块12244000，以太坊主网实现柏林网络升级！🎉\n\n尽管分叉区块运行顺利，升级后不久，OpenEthereum 就出现了共识问题。开发者很快发现了问题 (etherscan 崩溃了，也很难不发现这个问题......) 并在 Zoom 上开会对问题进行诊断和找出解决办法。\n\n问题出现了大概1个半小时后，问题根源找到了。简言之，问题是由 BLS-12381 预编译引起的。它在一些柏林测试网里被启动了，但不是主网分叉内容。OpenEthereum 没有禁用这个预编译，而是把它设置在非常遥远的区块上启动。当一笔交易错误地调用了这个预编译地址，OpenEthereum 对该调用的定价就与其他实现不一样。\n\n如果想了解更多细节，Alex Stoke 在[推特](https://twitter.com/ralexstokes/status/1382750001026146304)上对事件进行了详细解释。我们也对 eth1.0 规范的代码库进行了[复盘](https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/retrospectives/berlin.md)。最后，OpenEthereum 团队正在写一份对这次事件的完整事后反思。OpenEthereum 的用户现在应该使用该客户端的 [v.2.3.4 版本](https://github.com/openethereum/openethereum/releases/tag/v3.2.4)。\n\n\n\n## EIP-2930 解析 🧠\n\n\n为了弥补 EIP-2929 的潜在漏洞，柏林升级还加入了 EIP-2930。这份 EIP 允许交易与一个访问列表一并提交，以在某些情况下稍微降低 gas 开销。\n\n因访问列表而获益的使用情况并不总是那么明显。幸运的是，Nomic Labs 的 Franco Victorio 对这些情况进行了整理，写了[一篇文章解释访问列表会引起的 gas 开销变化、以及访问列表是如何生成的](https://hackmd.io/@fvictorio/gas-costs-after-berlin)。如果你的项目可能受 EIP-2929 或 2930 影响，你应该阅读这篇文章。\n\n\n## Gas Limit 提高 📈\n\n如在上一篇更新提到的，当主网实现了柏林升级，以太坊主网上由大型区块带来的大部分 DoS 风险都会得到解除。这意味着我们现在可以（慢慢地！）开始提高 gas limit。如 Péter Szilágyi 在[推特](https://twitter.com/peter_szilagyi/status/1384438441803403268)上所说，EIP-2929 加上 Geth 上的快照使我们得以稍微提高 gas limit。他提议一开始提高到 15M，看看情况如何。\n\n但是！尽管 DoS 风险已经得到缓和，但状态膨胀问题仍然存在。提高 gas limit 意味着提高状态增长速度，以及增加节点同步数据、与网络保持同步的负担。在我们找到长期的解决方案 (例如，无状态)之前，我们仍然需要保持谨慎。特别是 (如 Péter 所说) 在我们还不确定无状态是否真的可行的时候。\n\n<br/>\n\n# 伦敦升级 \n\n主网进行柏林升级后，我们现在专注于伦敦升级的实现与测试阶段。目前有三份 EIP 在该升级的计划中： [EIP-1559](https://eips.ethereum.org/EIPS/eip-1559), 我想不需多做介绍；[EIP-3238](https://eips.ethereum.org/EIPS/eip-3238) 是用于把难度炸弹推迟到 2022 年第二季度；[EIP-3198](https://eips.ethereum.org/EIPS/eip-3198) 用于添加一个操作码以从区块返回  `BASE FEE`。\n\n我们现在有了第一个集成测试网 [Aleut](https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/client-integration-testnets/aleut.md)，大多数客户端正与它同步[1]。如果你想加入这个测试网，规范里有配置文档与启动节点。文档资料现在还不完善，你可能需要使用你所喜欢的客户端的开发者分支，但这个问题在未来几周会得到完善。\n\n\n在规划方面，伦敦升级非常特别，在另一个升级还在部署的时候它就已经开始规划了，这种情况还是第一次。此外，客户端团队已经开始对“合并” （详见下文）进行原型设计了。在过去的 3 到 4 次核心开发者会议里，由于内容过多，问题都没有讨论完，因此我们决定在[本周五](https://github.com/ethereum/pm/issues/301)安排一次常规以外的会议，继续讨论伦敦升级。\n\n简言之，我们需要决定是否增加其他内容到伦敦升级里，什么时候进行升级，以及如何处理那些没能放到伦敦升级里的 EIP，包括呼声越来越高的 [EIP-3074](https://eips.ethereum.org/EIPS/eip-3074)。又是一个议程满满的会议！\n\n<br/>\n\n# Rayonism 项目☀️\n\n如上文所述，客户端团队已经开始专注在“合并”上了。首先进行的是 [Rayonism](https://rayonism.io/) 项目，是对俄罗斯艺术运动的致敬——“用射线画出一个分片空间，并将其变成动态时间。”\n\n在下一个月，基于“可执行信标链”提议的原型会被构建出来。完整的规范可以在  [ethereum/rayonism](https://github.com/ethereum/rayonism) 代码库里找到。\n\nRayonsim 项目是 Scaling Ethereum 黑客松的一部分，是对所有人开放的。如果大家也想做出贡献，可以通过加入[discord 频道](https://discord.gg/ky9aV9SMEE)来参与。如果想看它是如何运行的，这里有[一份教程](https://github.com/protolambda/mergenet-tutorial)。😄\n\n当然，Rayonsim 项目作为黑客松的一部分意味着里面的内容变得非常快，发出来的文档可能很快过时，构建出来的原型也不适合做成产品。但，在活动结束的时候，我们应该对实现“合并” 的技术要求和如何把构建的原型产品化有一个非常成熟的思路了。\n\n最后，如果你想看看合并后的图景，Barnabé 本周写了[一篇非常好的文章](https://barnabe.substack.com/p/eth2)！\n\n------\n\n感谢您的阅读！下一次的更新应该会在几周后，即伦敦升级的规范被最后敲定的时候。\n\n------\n\n发布于 2021.4.20\n\n[1] 注：Aleut 不包括 EIP-3238，因为该 EIP 仅需要为难度炸弹修改主网的一些常数。\n\n<br/>\n<br/>\nECN的翻译工作旨在为中国以太坊社区传递优质资讯和学习资源，文章版权归原作者所有，转载须注明原文出处以及ethereum.cn，若需长期转载，请联系eth@ecn.co进行授权。","cover":{"childImageSharp":{"resize":{"src":"/static/6d1a3a03e8c604e2149a254eebde45b1/497c6/0b3483384ec7154232c731a8e8c2fe08.png"}}}},"site":{"siteMetadata":{"title":"Ethereum Community Network","description":"以太坊——全球的、开源的去中心化应用平台。DeFi？NFT？游戏？虚拟世界？每一个人都可以成为以太坊的开发者和用户！","author":"@ECN以太坊社区网络","keywords":"以太坊,以太坊中国,Ethereum","siteLanguage":"zh-CN","siteLocale":"zh-cn","siteUrl":"http://ethereum.cn","twitterUsername":"@EthereumCN"}}},"pageContext":{"id":"Articles_249"}},"staticQueryHashes":["1238767529","2940180826"]}