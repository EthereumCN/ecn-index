{"componentChunkName":"component---src-template-article-js","path":"/eth2-validator-handbook","result":{"data":{"strapiArticles":{"title":"以太坊2.0验证者宝典","summary":"Eth2主网最早将于12月1日创世，你,准备好了吗？","publishDate":"2020-11-05","author":"ECN","authorImg":{"childImageSharp":{"fixed":{"src":"/static/18e33ca02b0130c3f952c7a725931e7a/497c6/ac7e303d9bcf9058c207ba55f49192bb.png"}}},"content":"## ETH2 IS COMING！\n\n根据Ethereum Blog最新通告，以太坊2.0规范v1.0已发布，Eth2最早创世时间定于1606824000，即北京时间2020年12月1日20:00。\n\n主网存款合约地址为：0x00000000219ab540356cBB839Cbe05303d7705Fa\n\n注意，请勿直接向存款合约地址转账，需前往Eth2 Launchpad根据引导进行质押操作和客户端安装。 Launchpad官方网址请认准：launchpad.ethereum.org\n\n至少在12月1日前一周需要有16384名验证者进行质押(即至少存入 524,288 ETH)，否则顺延创世时间，即验证者的数量达到16384之后七天创世。大家可以阅读Ben Edgington的文章[《信标链的创世》](https://news.ethereum.cn/genesis/)了解创世过程。\n\n <br/> \n\n## Eth2质押那些事\n\nEth2测试网长跑结束，Eth2新征程正式开启。目前存款合约已部署，关于以太坊2.0质押那些事儿大家知多少？不要慌，ECN特此整理了Staking合辑，帮助大家抱佛脚，一起来回顾一下吧👀\n\n <br/> \n\n### 验证者教程系列\n\n1. ECN自制超详细中文视频教程，包含环境配置、Lighthouse客户端安装以及质押操作：\n\n   《[如何成为Spadina测试网验证者](https://www.bilibili.com/video/BV1d5411L7k9/)》\n\n2. 验证者硬件要求以及Launchpad操作指引：\n\n   《[如何成为Eth2 Medalla测试网验证者](https://news.ethereum.cn/guide-becoming-a-validator/)》\n\n3. EthFANs\n\n​    《[使用 Ubuntu 和 Prysm 参与 Medalla 测试网](https://mp.weixin.qq.com/s/vdbg2bovhaZ8_Y_C7IoktQ)》\n​    《[使用 Nethermind 和 Lighthouse 运行以太坊 2.0 测试网的验证者](https://mp.weixin.qq.com/s/InbElsTYiHZRGGogx4bZMw)》\n\n <br/> \n\n### 通识系列\n\n《[了解Eth2质押程序](https://news.ethereum.cn/staking：了解eth2质押程序/)》\n\n《[Eth2 Staking系列：开篇](https://news.ethereum.cn/validated-staking-on-eth2-0/)》\n\n《[Eth2 Staking系列：激励篇](https://news.ethereum.cn/validated-staking-on-eth2-1-incentives/)》\n\n《[Eth2 Staking系列：共识机制篇](https://news.ethereum.cn/validated-staking-on-eth2-2-two-ghosts-in-a-trench-coat/)》\n\n《[Eth2 Staking系列：分片共识](https://news.ethereum.cn/eth2-staking-sharding-consensus/)》\n\n《[Eth2 Staking系列：密钥篇](https://news.ethereum.cn/eth2-staking-keys/)》\n\n《[Eth2 Staking系列：客户端多样性](https://news.ethereum.cn/validated-why-client-diversity-matters/)》\n\n[《](https://mp.weixin.qq.com/s?__biz=MzIwODA3NDI5MA==&mid=2652529508&idx=1&sn=a0be35d5f6c3d5cdf86c063e5138ff2b&scene=21#wechat_redirect)[Eth2 存款过程](https://news.ethereum.cn/ethereum-2-0-and-depositing-process/)》\n\n《[什么是以太坊 2.0 测试网？如何参与？](https://mp.weixin.qq.com/s/nYWJtlA1Td_M-TuB636wZw)》\n\n《[Eth2 验证者快速启动器发布](https://mp.weixin.qq.com/s/jkXq-akj_8sQcDJkoCYDJg)》\n\n <br/> \n\n### 其他相关资源\n\nEth2 Launchpad\n\nhttps://launchpad.ethereum.org\n\nEth2浏览器\n\n- [Beaconcha.in](https://beaconcha.in/)\n- [Eth2Stats](https://eth2stats.io/)\n- [BeaconScan](https://beaconscan.com/)\n\nEth2客户端\n\n- [Prysm](https://prysmaticlabs.com/): Go语言客户端\n- [Lighthouse](https://lighthouse.sigmaprime.io/): Rust语言客户端\n- [Teku](https://github.com/ConsenSys/teku): Java语言客户端\n- [Nimbus](https://nimbus.team/): Nim语言客户端\n\n其他学习资源\n\n- [ECN Eth2知识库](https://eth2.ethereum.cn/):（路线图/术语库/客户端/FAQ）\n- [ECN Eth2相关进展](https://news.ethereum.cn/category/eth2/)\n- [Ethfans](https://ethfans.org/)\n- [以太坊官网 (英文)](https://ethereum.org/en/eth2/)\n\n <br/> \n\n## Eth2 Launchpad\n\nEth2 Launchpad (launchpad.ethereum.org) 旨在帮助和指引用户安全便捷地完成质押操作，并且实时更新网络质押进度数据，但目前尚不支持多语言版本，因此我们将其中有价值的部分进行了汉化，以供参考。\n\n <br/> \n\n### Overview：概述部分\n\n这个部分提供了一些基本的背景知识和注意事项，也是进行质押之前的必经入口，包括验证者职责和风险、单向质押、密钥生成和管理等。\n\n<center><img src=\"https://i.ibb.co/kD3dRTr/p1.png\"/></center>\n\n <br/> \n<center><img src=\"https://i.ibb.co/jJBC9dK/p2.png\"/></center>\n <br/> \n<center><img src=\"https://i.ibb.co/rQ5wnQt/p3.png\"/></center>\n <br/> \n<center><img src=\"https://i.ibb.co/QcfHS3h/p4.png\"/></center>\n <br/> \n<center><img src=\"https://i.ibb.co/80v37cG/p5.png\"/></center>\n <br/> \n<center><img src=\"https://i.ibb.co/6DvjM6F/p6.png\"/></center>\n <br/> \n<center><img src=\"https://i.ibb.co/DGjBqCj/p7.png\"/></center>\n <br/> \n<center><img src=\"https://i.ibb.co/THv0Yks/p8.png\"/></center>\n <br/> \n<center><img src=\"https://i.ibb.co/f4nwtDn/p9.png\"/></center>\n <br/> \n<center><img src=\"https://i.ibb.co/0scnqmD/p10.png\"/></center>\n\n\n\n\n\n\n\n阅读完本部分之后，大家就能进入正式的质押操作阶段了，后续具体步骤包括选择Eth1客户端、生成验证者密钥、上传验证者文件、连接钱包以及转账，可参见中文视频教程《[如何成为Spadina测试网验证者](https://b23.tv/BV1d5411L7k9)》。\n\n##    <br/> \n\n## 验证者常见问题  \n\n**1.  什么是 “验证者” (validator)？**\n\n验证者是参与以太坊 2.0协议共识的实体。用大白话来说，即运行特定计算机程序的人。该程序会提议并证明新的区块，使之能添加到区块链上。  \n\n换言之，你可以将验证者看作新区块的投票者。一个区块获得的票数越多，被添加到区块链上的可能性就越大。重要的是，验证者的投票权重由其质押余额决定。  \n\n**2. 什么是存款合约 (deposit contract)？**\n\n你可以将存款合约理解为以太坊账户与ETH 2.0验证者之间的资金转移。存款合约的状态注明了谁为质押者、谁为验证者、质押金额、以及谁有权限提款。  \n\n**3. 为什么验证者需要质押存款？**\n\n验证者需要质押存款，这样才能对他们的不当行为进行惩罚。换言之，为了保证这些验证者都遵守协议，他们的不当行为需要承担一定经济后果。  \n\n**4. 验证者需要质押多少ETH?**\n\n验证者在开始维护网络之前，需要质押32个ETH。这32个ETH就是验证者的初始余额。  \n\n**5. 质押多于32个ETH会有什么好处吗？**\n\n没有，单个验证者存入超过 32 ETH 不会获得任何优势。将质押的最大ETH数额限制到32个有助于提高去中心化程度，因为它防止任何一个验证者有过大的投票权重。请记住，验证者的投票权重取决于其质押余额。  \n\n**6. 我可以暂停运行 (而非退出网络) 我的验证者节点几天，然后再重新开始吗？**\n\n可以的，但正常情况下你会损失一定数额的ETH，大概相当于你在那段时期赚取的ETH数量。换言之，如果你赚取了大约0.01个ETH，那么你将损失大约0.01个ETH。  \n\n**7. 我应该什么时候补充我的验证者余额？**\n\n这个问题的答案很大程度取决于你余额还有多少ETH。如果你的余额接近16个ETH的话，你当然应该再存入：这是为了确保你不会被验证者集踢出 (如果你的余额低于16个ETH的话，你会被自动踢出)。如果你的余额接近31个ETH，你大概不需要再存入ETH以达到32个。  \n\n**8. 我什么时候可以提款，退出与提款有什么区别？**\n\n你可以用你的验证者节点签名一条自愿退出信息以示意你想要停止验证。 但是请记住，在阶段0里，一旦你退出了就回不去了。 你不能再激活你的验证者节点了，在阶段1.5之前你也不能转移或提取你的资金 (这意味着在阶段1.5之前你都无法访问你的资金)。  \n\n <br/> \n\n### 验证者职责篇 \n\n**1. 验证者保持活跃和诚实会有什么激励吗？**\n\n除了离线会被罚款外，验证者的恶意行为也会遭受惩罚，例如投票给无效或冲突的区块。另一方面，如果验证者提议或证明的区块被打包到链上，他们就会得到奖励。  \n\n基本规则如下：帮助网络达成共识的行为会得到奖励妨碍共识达成的无意行为 (或不作为) 会招致轻度惩罚；恶意行为会招致严重惩罚 (也称为罚没)  \n\n换言之，验证者在最大化他们的奖励时就是在为整个网络带来最大的裨益。  \n\n**2. 奖励/惩罚是如何发放的？**\n\n请记住，每个验证者都有自己的余额——初始余额会在存款合约里显示。以太坊网络规则会基于验证者的履职情况定期更新其余额。换言之，奖励与惩罚会随着时间反应在验证者的余额中。  \n\n**3. 奖励/惩罚多久更新一次？**\n\n大约每6.5分钟(即一个epoch)更新一次。在每个epoch里，网络都会评估每个验证者的表现，并相应给予奖励或惩罚。  \n\n**4. 奖励/惩罚金额有多大？**\n\n这个问题很难回答，因为在计算时需要考虑很多因素。理论上，影响验证交易所得奖励的最主要因素是在网络的质押总额(即，验证者总数)。根据质押总额，验证者的最高年收益率可能在 2% 至 20% 之间。  \n\n在验证者总数固定的情况下，奖励/惩罚主要取决于验证者的余额规模 —— 如果提供证明的验证者的余额越高，验证者收到的奖励/惩罚金额就越高；余额越低，奖励/惩罚就越低。  \n\n请注意，这种动态机制是以不那么明显的方式运作的。要想了解其具体原理，你先要理解有效余额(effective balance) 这个概念。如果你对这个概念还不熟悉，我们建议你阅读[这篇文章](https://www.attestant.io/posts/understanding-validator-effective-balance/)。  \n\n**5. 为什么奖励取决于网络中的验证者总数？**\n\n区块奖励是根据质押在网络中的ETH总量按比例动态计算的。简单来说，如果质押的ETH总量很少，奖励（利率）就很高，但是随着质押的ETH增加，每个验证者所获得的奖励（利率）就会降低。  \n\n为什么要用这种动态调整？尽管本文不会深入其中的细节，但一个主要原因是网络的良好运转需要一定数量的验证者来维持 (ETH总质押量也是)。因此，为了鼓励更多的验证者参与其中，在达到必要的验证者数量前维持高利率显得尤为重要。  此后，我们仍然鼓励更多的验证者参与 (越多验证者参与意味着网络的去中心化程度越高)，但这不是必要的 (因此利率可能会下降)。  \n\n**6. 如果离线，验证者会遭到什么惩罚？**\n\n这视情况而定。除了[有效余额的影响](https://www.attestant.io/posts/understanding-validator-effective-balance/#the-impact-of-effective-balance-on-validating)外，还需要主要以像两种重要情况：\n\n1. 如果绝大多数（2/3）验证者都在线，离线招致的惩罚会较低，因为有足够多的验证者在线，可以实现区块的最终确定性。这是预料之中的情况。 \n\n2. 如果有超过 1/3 的验证者同时离线，离线惩罚就会较高，因为网络无法继续实现区块的最终确定性。这种属于不太可能发生的极端情况。\n\n请注意，如果是第二种 (不太可能的) 情况，离线验证者在 21 天内损失的ETH可高达 50% (16 ETH)。21 天之后，这些验证者就会被逐出验证者池。这样一来，网络就可以恢复正常，开始达成区块的最终确定性。  \n\n**7. 诚实验证者需要在线多长时间才能实现盈利？**\n\n总的来说，只要验证者的在线时间超过 50% ，就能实现盈利。这意味着验证者不需要使用后备客户端或多余的网络连接来达到极长的在线时间，因为离线的后果并没有那么严重。  \n\n**8. 作恶的验证者会遭受什么惩罚？**\n\n同样视情况而定。恶意行为 (例如，投票给无效或有冲突的区块) 会让验证者遭到罚没。在早期最低罚没金额是0.25 ETH ，之后会恢复至1 ETH的低限，但是如果其他验证者在同一时间也遭到罚没，这一金额会增加。这样设计的目的是尽可能减少验证者因无心之失而蒙受的损失，但同时有力防止协同攻击。  \n\n**9. 罚没是什么？**\n\n罚没有两个作用：1) 大幅提高攻击 ETH 2.0 的成本，使攻击无利可图；2) 通过检查验证者是否履行其职责来防止他们偷懒。  \n\n对验证者进行罚没，指的就是如果有验证者被证明作恶，他们的部分或全部权益就会被销毁。遭到罚没的验证者无法继续参与网络的共识机制，会被强制退出。  \n\n <br/> \n\n### 密钥篇  \n\n**1. 签名密钥 (signing key) 丢失了会有什么后果？**\n\n如果签名密钥丢失，验证者将无法继续提议或证明区块。慢慢地，验证者的余额将逐渐减少，因为验证者由于无法参与共识流程而受到惩罚。当验证者的余额减少至16 ETH时，系统便会自动将其逐出验证者池。  \n\n然而，这并不意味着验证者要失去质押的所有ETH了。假设验证者是通过[EIP2334](https://eips.ethereum.org/EIPS/eip-2334) (根据默认的引导流程) 生成其签名密钥，那么验证者总是可以根据提款密钥重新计算其签名密钥。  \n\n然后就可以凭借提款密钥提出那16个ETH了，大概要一天后提款才能到账。请注意，如果同一时间退出或被逐出网络的验证者太多了，等待时间将会更长。  \n\n**2. 提款密钥 (withdrawal key) 丢失了会有什么后果？**\n\n如果提款密钥丢失了，验证者将无法访问质押的ETH了。因此，建议验证者使用助记词 (mnemonics) 来创建提款密钥，作为备份。如果验证者是通过此Launchpad的引导流程加入的，其提款密钥将默认通过助记词创建。  \n\n**3. 提款密钥被盗取了会如何？**\n\n如果提款密钥被盗，盗窃者可以转移验证者的余额，但只能在验证者退出之后才能进行此操作。如果盗窃者没有签名密钥，那么其无法强制验证者退出。这时验证者先凭借签名密钥快速退出验证者节点，然后在盗窃者之前凭借提款密钥将资金转走。  \n\n**4. 为什么要有两个密钥?**\n\n简而言之，就是为了安全。签名密钥必须保证随时可用。因此，签名密钥必须保持在线。由于保存在线上的东西尤其容易受攻击，因此不建议同时用签名密钥进行提款。  \n\n <br/> \n\n <br/> \n\n声明：ECN的翻译工作旨在为中国以太坊社区传递优质资讯和学习资源，文章版权归原作者所有，转载须注明原文出处以及ethereum.cn，若需长期转载，请联系ethereumcn@gmail.com进行授权","cover":{"childImageSharp":{"resize":{"src":"/static/13d7012d26f052b4db4a770a763839fa/497c6/d087fcbc145b6f13cfc5a13c8f9ecaa7.png"}}}},"site":{"siteMetadata":{"title":"Ethereum Community Network","description":"以太坊——全球的、开源的去中心化应用平台。DeFi？NFT？游戏？虚拟世界？每一个人都可以成为以太坊的开发者和用户！","author":"@ECN以太坊社区网络","keywords":"以太坊,以太坊中国,Ethereum","siteLanguage":"zh-CN","siteLocale":"zh-cn","siteUrl":"http://ethereum.cn","twitterUsername":"@EthereumCN"}}},"pageContext":{"id":"Articles_171"}},"staticQueryHashes":["1238767529","2940180826"]}